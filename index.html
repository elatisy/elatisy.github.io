<!DOCTYPE html>



  



<script type="text/javascript"
color="255,255,255" opacity='0' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>



<script type="text/javascript"
color="255,255,255" opacity='0' zIndex="-2" count="99" src="//cdn.bootcss.com/canvas-lines.js/1.0.0/canvas-lines.min.js"></script>


<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />


<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>










<meta name="description" content="人生就是一个与困抗争的过程">
<meta property="og:type" content="website">
<meta property="og:title" content="Ela&#39;s notes">
<meta property="og:url" content="http://elatisy.top/index.html">
<meta property="og:site_name" content="Ela&#39;s notes">
<meta property="og:description" content="人生就是一个与困抗争的过程">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ela&#39;s notes">
<meta name="twitter:description" content="人生就是一个与困抗争的过程">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://elatisy.top/"/>





  <title>Ela's notes</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
    <a href="https://github.com/elatisy/elatisy.github.io"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ela's notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/e9a70f0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/e9a70f0/" itemprop="url">[公告]</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-04T22:45:59+08:00">
                2017-12-04
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-12-12T15:53:21+08:00">
                2017-12-12
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  108
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>我怎么那么菜啊,考啥啥挂.
Elatis的自救计划开始了,博客暂时断更到放寒假QAQ
顺便最近博客出现了一些critical error,&quot;阅读全文&quot;标签有时候无法正确渲染,会导致文章直接在主页全部显示,非常难看,如果出现这个问题请联系我.
手痒写了一些小东西,等寒假时陆续上传#(滑稽)
<img src="/posts/e9a70f0/0.jpg" alt="0.jpg" title=""></p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/bff60d6c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/bff60d6c/" itemprop="url">模运算法则及应用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-30T12:40:51+08:00">
                2017-11-30
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-12-05T18:10:08+08:00">
                2017-12-05
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c++</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数学/" itemprop="url" rel="index">
                    <span itemprop="name">数学</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  537
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>模运算是数论中较基础的运算法则,同时它也被广泛地应用到了程序设计中.最常见的如求公约公倍,以及输出过大时需要取模输出等.
所以模运算是程序设计以及数学中必不可少的一部分,本篇文章将会列出模运算的法则,有一些还会给出证明,还有一些需要应用模运算的程序样例.
本篇随着更新会有费马小定理的证明.
为什么hexo不渲染我的数学公式?我也很绝望啊qwq
数学的第一篇,就拿数学之神(误)琪露诺来镇楼吧.
<img src="/posts/bff60d6c/0.jpg" alt="0.jpg" title="">
&lt;!--more--&gt;</p>
<h1>模运算的定义</h1>
<p>首先我们来看看模运算的定义.模是&quot;Mod&quot;的音译,意为求余.
一般的,形如 a % p 的算式,我们称之为&quot;a对p取余/取模&quot;;</p>
<h2>基本概念</h2>
<p>给定一个正整数p,任意一个整数n,则必有 <strong>n= k * p + r</strong>;
其中k,r是整数,且 0 &lt;= r &lt; p .
则我们称k为n除以p的商,r为n对p取余/取模的余数/模.但模运算中我们是无法获得k的具体数值的,因为模运算是一个不可逆的运算方法.</p>
<p>p对于正整数a和b,定义如下运算:
<strong>取模运算:</strong> a % p,或a mod p;表示a对p取余所得余数.
<strong>模p加法:</strong> (a + b) % p;所得的值为a和b的算数和对p取余.
<strong>模p减法:</strong> (a - b) % p;所得的值为a和b的算数差对p取余.
<strong>模p乘法:</strong> (a * b) % p;所得的值为a和b的算数积对p取余.</p>
<p>特别的,我们有:
<strong>同余式:</strong> 若 a % p = b % p;则记为 a ≡ b % p 或 a ≡ b (mod p) .
<strong>额外补充:</strong> 负数的模为非正数(&lt;= 0),正数的模为非负数(&gt;= 0).</p>
<h2>基本性质</h2>
<p>通过上面定义的模运算,我们可以得到如下的性质:
1.若p能整除a - b(记为p|(a - b)),则a加上p的整数倍对p取余恒等于b.转化成数学语言如下:
若p|(a - b),则a ≡ (a + kp) ≡ b % p;其中k为整数.</p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/4caeeee0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/4caeeee0/" itemprop="url">[Java]JFrame窗体的各种配置方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-25T09:50:49+08:00">
                2017-11-25
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-25T11:22:49+08:00">
                2017-11-25
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  272
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>JFrame窗体是一个功能强大的,能在各个平台上完美兼容的&quot;轻量级窗体&quot;,也是Java程序设计的基础.本篇将在我学习使用JFrame窗体的同时持续更新.
<img src="/posts/4caeeee0/0.jpg" alt="0.jpg" title="">
&lt;!--more--&gt;
当然,我们得先引用swing包:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> javax.swing.*;</div></pre></td></tr></table></figure></p>
<h1>JFrame窗体的引用</h1>
<p>JFrame类已由swing包集成,所以我们可以直接使用extends语句直接继承一个JFrame窗体.
就是这样写:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainFrame</span> <span class="keyword">extends</span> <span class="title">JFrame</span></span>&#123;</div></pre></td></tr></table></figure></p>
<p>就是在主类后面加上一句&quot;extends JFrame&quot;;
继承了JFrame类之后,要新建一个窗体,只需将主方法这样写:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="keyword">new</span> MainFrame();</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p>就新建了一个MainFrame窗体,又因为MainFrame窗体实际上是继承了JFrame窗体,所以这样操作就是新建了一个JFrame窗体.
接下来我们就要逐步将我们新建的窗体配置成我们想要的样子.</p>
<p>首先我们先在主类下面写上
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span>  <span class="title">MainFrame</span><span class="params">()</span> </span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>接下来的步骤除了特殊说明,都是在这个窗体的大括号里面进行的.</p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/a80d0031/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/a80d0031/" itemprop="url">动态规划</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-24T12:47:35+08:00">
                2017-11-24
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-30T11:09:28+08:00">
                2017-11-30
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c++</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2,519
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  10
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>好像一周多都没有更新了..(ACO真是太好玩了)
那这次就来讲一下动态规划的算法吧
&lt;!--more--&gt;
动态规划(Dynamic Programming)是求解决策过程最优化的数学方法,是运筹学的一部分.它使用的是一种分治思想,将一个大问题转换为一些小问题,再将每个小问题都转化为更多的小小问题,直至它们形成一个个不可再分单元,再对每个单元求最优解,再求它们中某些单元组成的单元的最优解,直到求得大问题的最优解.
动态规划主要分为四种:</p>
<ol>
<li>线性动规</li>
<li>区域动规</li>
<li>树状动规</li>
<li>背包动规</li>
</ol>
<p>但是对于每一种动规,它们的思想是一样的,所以只要掌握了这种思想,理解这几种类型的动规也不是什么难事.而且最短路问题实际上也是用了动规思想.</p>
<p>动态规划可以广泛地应用在各行各业中,所以不仅是ACMer,不仅是程序员,每个人都应该掌握这种思想.</p>
<p>那么接下来将讲解每一种动规以及它们的实例.
可能有些代码是使用Java写的,但是除了语法不同,其它部分和c++并没有什么区别.</p>
<h1>线性动规</h1>
<p>线性动规是最基础的一种动规,剩下三种动规实际上都是基于它形成的.
那么我们首先来看看递归实现的动规(递归比较好理解)
以下代码是基于cpp的,以求数列a[n]的最长升序子序列为例
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> a[n+<span class="number">1</span>];                                   <span class="comment">//输入的数存在数组的1~n中        </span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="keyword">int</span> k,<span class="keyword">bool</span> flag,<span class="keyword">int</span> pre)</span></span>&#123;              <span class="comment">//k为判断当前在处理前几个元素,flag为是否取当前元素的判断,pre为前一个元素的大小</span></div><div class="line">    <span class="keyword">if</span>(k == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;                      <span class="comment">//边界条件,当k在第一个元素之前时没有任何元素,子序列长度只能为0</span></div><div class="line">    <span class="keyword">else</span>&#123;                                     <span class="comment">//以flag为真,就说明我们想取这一个数作为子序列的一部分,当然还要判断能否取 </span></div><div class="line">        <span class="keyword">if</span>(flag &amp;&amp; pre&lt;a[k]) &#123;</div><div class="line">                                               <span class="comment">//对于每一种操作,不仅要执行对应的操作,返回值的时候还要选出前一层递归的最优解.</span></div><div class="line">                pre=a[k];                      <span class="comment">//更新子序列中前一个数的大小</span></div><div class="line">                <span class="keyword">return</span> max(dp(k<span class="number">-1</span>,<span class="literal">false</span>,pre),dp(k<span class="number">-1</span>,<span class="literal">true</span>,pre))+<span class="number">1</span>;</div><div class="line">            &#125;                    </div><div class="line">        <span class="keyword">else</span>&#123;                                  <span class="comment">//选择不取当前元素</span></div><div class="line">            <span class="keyword">return</span> max(dp(k<span class="number">-1</span>,<span class="literal">true</span>),dp(k<span class="number">-1</span>,<span class="literal">false</span>));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>当我们输入要求的数据,用
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">max(dp(n,<span class="literal">false</span>,<span class="number">-1</span>),dp(n,<span class="literal">true</span>,<span class="number">-1</span>));</div></pre></td></tr></table></figure></p>
<p>调用上面的函数,就可以求出最长升序子序列的长度.</p>
<p>但其实使用递归来实现的动规的时间复杂度是很高的,对于大量数据的动规,使用递归来实现是肯定会超时的.所以还有一种实现方法是使用循环,它可以把时间复杂度控制在n^2之内.
与使用递归不同,这种方法会将每个小问题的最优解记录下来,对于线性动规,就是把前k个元素的最优解记录下来.如果最优解是一个数据,我们可以使用一个数组来实现,通常叫做dp;其中dp[k]是前k个元素的最优解.
同时在执行操作的过程中,记录下当前算出的最优解,如果之后有更优的解,就更新一下最优解.
还是以求n个数的数列的最长升序子序列为例
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> a[n+<span class="number">1</span>];</div><div class="line"><span class="keyword">int</span> dp[n+<span class="number">1</span>] = &#123;<span class="number">0</span>&#125;;</div><div class="line"><span class="keyword">int</span> maxn = <span class="number">0</span>;               <span class="comment">//maxn用于储存最长子序列的长度</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;  <span class="comment">//遍历求得前1~n个元素的最优解</span></div><div class="line">    dp[i] = <span class="number">1</span>;              <span class="comment">//无论如何,子序列最少得有一个元素</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=i;++j)&#123;  <span class="comment">//求前i个元素的最优解</span></div><div class="line">        <span class="keyword">if</span>(a[i]&gt;a[j])       <span class="comment">//判断是否符合升序条件</span></div><div class="line">            dp[j] = max(dp[j],dp[j<span class="number">-1</span>]+<span class="number">1</span>);</div><div class="line">        <span class="keyword">else</span> dp[j]=dp[j<span class="number">-1</span>];</div><div class="line">        <span class="keyword">if</span>(dp[j]&gt;maxn) maxn = dp[j];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>循环完之后,我们只需要输出dp[n]即可获得最优解.
那么上面那个程序中,为什么我们只需要判断当前的元素a[i]和它之前的某一个元素a[j]的大小,就能使它满足条件了呢?
那是因为dp数组中的每一个元素存的都是符合条件的最优解,当它判断第二个元素时,已经将第一个和第二个元素比较好了,并且最优解已经储存进了dp[2],以此类推,第三个元素已经和第一,第二个元素比较好了,到第i个元素时,自然只需要让它比较它前面的元素就能使子序列满足升序的条件.
接下来将通过两个例子来具体说明.</p>
<h2>1.Longest Ordered Subsequence</h2>
<p>A numeric sequence of ai is ordered if a1 &lt; a2 &lt; ... &lt; aN. Let the subsequence of the given numeric sequence ( a1, a2, ..., aN) be any sequence ( ai1, ai2, ..., aiK), where 1 &lt;= i1 &lt; i2 &lt; ... &lt; iK &lt;= N. For example, sequence (1, 7, 3, 5, 9, 4, 8) has ordered subsequences, e. g., (1, 7), (3, 4, 8) and many others. All longest ordered subsequences are of length 4, e. g., (1, 3, 5, 8).</p>
<p>Your program, when given the numeric sequence, must find the length of its longest ordered subsequence.</p>
<p><strong>Input</strong>
The first line of input file contains the length of sequence N. The second line contains the elements of sequence - N integers in the range from 0 to 10000 each, separated by spaces. 1 &lt;= N &lt;= 1000</p>
<p><strong>Output</strong>
Output file must contain a single integer - the length of the longest ordered subsequence of the given sequence.
<strong>Sample Input</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">7</div><div class="line">1 7 3 5 9 4 8</div></pre></td></tr></table></figure></p>
<p><strong>Sample Output</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">4</div></pre></td></tr></table></figure></p>
<h3>解析&amp;&amp;代码</h3>
<p>题目意思很明确,输入数列的长度和数列,求最长升序子序列的长度.所以这题可以直接套用上面的dp模板,代码如下,是使用Java写的,但其实和cpp差不多,如果有地方和cpp特别不一样的我会说明.
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">dpa</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span>[] num=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>],dp;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span> N;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">smax</span><span class="params">()</span> </span>&#123;							<span class="comment">//线性动规求最优解</span></div><div class="line">		<span class="keyword">int</span> maxn=-<span class="number">1</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;++i) &#123;</div><div class="line">			dp[i]=<span class="number">1</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;i;++j) &#123;</div><div class="line">				<span class="keyword">if</span>(num[i]&gt;num[j]) &#123;</div><div class="line">					<span class="keyword">if</span>(dp[i]&lt;dp[j]+<span class="number">1</span>) &#123;</div><div class="line">						dp[i]=dp[j]+<span class="number">1</span>;</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span>(dp[i]&gt;maxn) maxn=dp[i];</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> maxn;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//Main a=new Main();</span></div><div class="line">		dpa a=<span class="keyword">new</span> dpa();						<span class="comment">//声明一个"dpa"类变量</span></div><div class="line">		Scanner sc=<span class="keyword">new</span> Scanner(System.in);</div><div class="line">		<span class="keyword">while</span>(sc.hasNext()) &#123;</div><div class="line">			N=sc.nextInt();						<span class="comment">//输入数列长度</span></div><div class="line">			dp=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>];					<span class="comment">//初始化数组</span></div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;++i) &#123;</div><div class="line">				num[i]=sc.nextInt();			<span class="comment">//输入数列</span></div><div class="line">			&#125;</div><div class="line">			System.out.println(a.smax());		<span class="comment">//调用smax函数</span></div><div class="line">		&#125;</div><div class="line">		sc.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2>最少拦截系统</h2>
<p>某国为了防御敌国的导弹袭击,发展出一种导弹拦截系统.但是这种导弹拦截系统有一个缺陷:虽然它的第一发炮弹能够到达任意的高度,但是以后每一发炮弹都不能超过前一发的高度.某天,雷达捕捉到敌国的导弹来袭.由于该系统还在试用阶段,所以只有一套系统,因此有可能不能拦截所有的导弹.
怎么办呢?多搞几套系统呗!你说说倒蛮容易,成本呢?成本是个大问题啊.所以俺就到这里来求救了,请帮助计算一下最少需要多少套拦截系统.</p>
<p><strong>Input</strong>
输入若干组数据.每组数据包括:导弹总个数(正整数),导弹依此飞来的高度(雷达给出的高度数据是不大于30000的正整数,用空格分隔)</p>
<p><strong>Output</strong>
对应每组数据输出拦截所有导弹最少要配备多少套这种导弹拦截系统.</p>
<p><strong>Sample Input</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">8 389 207 155 300 299 170 158 65</div></pre></td></tr></table></figure></p>
<p><strong>Sample Output</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2</div></pre></td></tr></table></figure></p>
<h3>解析&amp;&amp;代码</h3>
<p>题目意思也很明确,就是找最大逆序子序列,找到一个后把子序列中的元素都从序列中排除继续找,直到将所有的数都排除完毕.
这题可以重复使用dp找逆序子序列,额外建立一个数组来标记这个数是否已经被找出,但这样不仅写起来困难,时间复杂度也很高,所以可以换一种思路,将时间复杂度仍然控制在n^2之内:
1)dp[i]中记录的是拦截第i个导弹时所需的最少系统数.
2)新增一个mini数组,来记录每一套系统的当前高度.
3)dp[i]同时还有一个意义,即为第i个导弹在第几套系统中,这是自然形成的.</p>
<p>还有一些细节,具体就看代码吧:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dpdlc</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span> N;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span>[] num = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>],dp,mini;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">smax</span><span class="params">()</span> </span>&#123;</div><div class="line">		dp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>];</div><div class="line">		mini = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>];		<span class="comment">//mini[k]表示第k个系统的高度</span></div><div class="line">		mini[<span class="number">1</span>] = num[<span class="number">1</span>];			<span class="comment">//第一个系统的高度肯定是第一个导弹的高度</span></div><div class="line">		dp[<span class="number">1</span>] = <span class="number">1</span>;					<span class="comment">//拦截第一个导弹时系统数肯定是1</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;++i) &#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=i;++j) &#123;</div><div class="line">				<span class="keyword">if</span>(i == j) &#123;		<span class="comment">//如果i == j,说明当前的系统都不能拦截导弹,新增一套系统</span></div><div class="line">					dp[i] = dp[i-<span class="number">1</span>]+<span class="number">1</span>;</div><div class="line">					mini[dp[i]] = num[i];<span class="comment">//新系统的高度为当前导弹高度</span></div><div class="line">				&#125;</div><div class="line">									<span class="comment">//如果有系统能拦截当前导弹</span></div><div class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(num[i] &lt;= num[j] &amp;&amp; mini[dp[j]] &gt;= num[i]) &#123;</div><div class="line">					mini[dp[j]] = num[i];<span class="comment">//那个系统的高度更新为当前导弹高度</span></div><div class="line">					dp[i] = dp[i-<span class="number">1</span>];	 <span class="comment">//不需要新增系统,当前系统数等于前一个导弹的系统数</span></div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		Arrays.sort(dp,<span class="number">1</span>,N+<span class="number">1</span>);		<span class="comment">//排序找最大系统数即可</span></div><div class="line">		<span class="keyword">return</span> dp[N];</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//Main a = new Main();</span></div><div class="line">		Dpdlc a = <span class="keyword">new</span> Dpdlc();</div><div class="line">		Scanner sc = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">		<span class="keyword">while</span>(sc.hasNext()) &#123;</div><div class="line">			N = sc.nextInt();</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;++i) &#123;</div><div class="line">				num[i] = sc.nextInt();</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			System.out.println(a.smax());</div><div class="line">		&#125;</div><div class="line">		sc.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1>区间动规</h1>
<p>区间动规又称合并类动规,是线性动规的扩展,但线性动规只是与当前元素出现时,之前选取的元素有关;而区间动规不仅与当前元素出现时之前选取的元素有关,还与之前选取元素的顺序有关.</p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/effa1578/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/effa1578/" itemprop="url">贪心算法解析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-13T23:06:35+08:00">
                2017-11-13
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-18T18:11:13+08:00">
                2017-11-18
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  4,762
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  21
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&lt;缓更&gt;
没想到这周是贪心算法(说好的最短路呢),本来是不想写题解的,但是既然能水一贴,那我还是不放过这个机会了(滑稽).
其实贪心算法并不是具体的什么算法,而是一种通过局部最优解来猜测通常情况最优解的,由有限推无限的方法.
类似于数学归纳法,但是相对数学归纳法,贪心算法并没有那么严谨.
对于一个经常思维江化的人来说(我),几个小时找不出贪心策略是常有的事QAQ
顺便数学专题的第一篇暂定为费马小定理的解析和证明,发布日期为我学会和开始写之后(不放卫星浑身难受)
ACO真尼玛好玩!!!
&lt;!--more--&gt;
先来讲讲贪心算法的基本流程吧.
1)首先明确题意,并提出数种解法.
2)对于每种解法,试着找出反例,最终选出一种合适的解法.
3)如果有数种解法实在找不出反例,甚至可以按每种解法写一份代码,提交试试.</p>
<p>emmm简而言之,贪心算法就是数学题.只要找到了合适的策略,估计叫个语言学院的来都会写.
下面就来讲讲本周的训练题吧</p>
<h1>A - Hangover</h1>
<p>How far can you make a stack of cards overhang a table? If you have one card, you can create a maximum overhang of half a card length. (We're assuming that the cards must be perpendicular to the table.) With two cards you can make the top card overhang the bottom one by half a card length, and the bottom one overhang the table by a third of a card length, for a total maximum overhang of 1/2 + 1/3 = 5/6 card lengths. In general you can make n cards overhang by 1/2 + 1/3 + 1/4 + ... + 1/(n + 1) card lengths, where the top card overhangs the second by 1/2, the second overhangs tha third by 1/3, the third overhangs the fourth by 1/4, etc., and the bottom card overhangs the table by 1/(n + 1). This is illustrated in the figure below.
<img src="/posts/effa1578/1.jpg" alt="1.jpg" title=""></p>
<p><strong>Input</strong>
The input consists of one or more test cases, followed by a line containing the number 0.00 that signals the end of the input. Each test case is a single line containing a positive floating-point number c whose value is at least 0.01 and at most 5.20; c will contain exactly three digits.</p>
<p><strong>Output</strong>
For each test case, output the minimum number of cards necessary to achieve an overhang of at least c card lengths. Use the exact output format shown in the examples.</p>
<p><strong>Sample Input</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1.00</div><div class="line">3.71</div><div class="line">0.04</div><div class="line">5.19</div><div class="line">0.00</div></pre></td></tr></table></figure></p>
<p><strong>Sample Output</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">3 card(s)</div><div class="line">61 card(s)</div><div class="line">1 card(s)</div><div class="line">273 card(s)</div></pre></td></tr></table></figure></p>
<h2>解析&amp;&amp;代码</h2>
<p>题目大意:有无数个单位长度的木板,要将其中的N个摆在桌子上,并每个伸出一部分.对于第一个,所能伸出的最大长度(相对它下面的木板)为1/2单位长度,对于第二个,所能伸出的最大长度(相对它下面的木板)为1/3,以此类推,第N个所能伸出的最大长度为1/(N+1).
现在给你一个x.xx的长度,问你最少需要几块木板才能达到那个长度,数据的范围为0.01-5.20;</p>
<p>很显然,我们让每一块木板伸出它能伸出的最大长度,达到题目给定的长度时,就是需要的最少木板数量.而且这题并不用去掉每块木板的0.01位之后的长度,如第二块伸出的长度是0.33333...而不用忽略掉小数点后二位之后的数字使其变成0.33;</p>
<p>所以这题超级简单,只需要不断循环加上每一块木板伸出的长度,达到输入的数据后输出i即可.
完整代码如下:
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">float</span> x;</div><div class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;x&amp;&amp;x)</div><div class="line">    &#123;</div><div class="line">        i=<span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span>(x&gt;<span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            ++i;</div><div class="line">            x-=<span class="number">1.0</span>/(i+<span class="number">1.0</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">" card(s)\n"</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1>B - Cleaning Shifts</h1>
<p>Farmer John is assigning some of his N (1 &lt;= N &lt;= 25,000) cows to do some cleaning chores around the barn. He always wants to have one cow working on cleaning things up and has divided the day into T shifts (1 &lt;= T &lt;= 1,000,000), the first being shift 1 and the last being shift T.</p>
<p>Each cow is only available at some interval of times during the day for work on cleaning. Any cow that is selected for cleaning duty will work for the entirety of her interval.</p>
<p>Your job is to help Farmer John assign some cows to shifts so that (i) every shift has at least one cow assigned to it, and (ii) as few cows as possible are involved in cleaning. If it is not possible to assign a cow to each shift, print -1.</p>
<p><strong>Input</strong>
Line 1: Two space-separated integers: N and T</p>
<p>Lines 2..N+1: Each line contains the start and end times of the interval during which a cow can work. A cow starts work at the start time and finishes after the end time.</p>
<p><strong>Output</strong>
Line 1: The minimum number of cows Farmer John needs to hire or -1 if it is not possible to assign a cow to each shift.</p>
<p><strong>Sample Input</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">3 10</div><div class="line">1 7</div><div class="line">3 6</div><div class="line">6 10</div></pre></td></tr></table></figure></p>
<p><strong>Sample Output</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2</div></pre></td></tr></table></figure></p>
<h2>解析&amp;&amp;代码</h2>
<p>题目大意:农夫想要雇佣几头牛去清洁(???),给出N头牛,和所需要清洁的时间区间1-T,并且告诉你每头牛所能开始工作的时间和结束工作的时间,要求在时间区间1-T的每一个时间点都至少有一头牛在清洁的前提下,需要雇佣的最少的牛的数量.</p>
<p>读完题目,首先我们根据题目给出的数据,想出几种可能的筛选方法:
1)优先选择开始时间早的牛
2)优先选择开始时间晚的牛
3)优先选择工作时间长的牛
4)优先选择工作时间短的牛
5)优先选择结束时间早的牛
6)优先选择结束时间晚的牛
当然上面选牛的方法都得有一个前提:
它们的工作时间能和前一头选择的牛对接(开始时间早于或等于前一头牛的结束时间,或前一头牛结束后正好接上)</p>
<p>然后对于每一种方法,可以通过画图的方法和计算的方法试着举出反例.
对于第一种方法,假设有一头牛的工作时间是5-&gt;T,有一头牛的工作时间是1-&gt;4,还有三头牛的工作时间分别是1-&gt;2,2-&gt;3,3-&gt;4,很明显我们只需要选择前两头牛就可以完成任务,但如果按照第一种选法,将会把所有牛都选上.
而且上面的那种举例法还顺便排除了第四种方法</p>
<p>下面针对第二和第三种方法进行讨论
第二种方法很容易举出反例;
对于第三种方法,假设第一头牛的工作时间是1-&gt;5,第二头牛的工作时间是2-&gt;(T-1),第三头牛的工作时间是3-&gt;(T-1),第四头牛的工作时间是4-&gt;(T-1),第五头牛的工作时间是6-&gt;T,很明显我们只需要选择第一头和第五头牛即可,但是如果按照时间长的选,会选择第一,第二,第五头牛,所以也不对.</p>
<p>最后是第五和第六种方法的讨论
第五种也很容易举出反例,设有T头牛时间是1-2,2-3,3-4....,有一头牛的时间是1-T即可
而第六种方法似乎无法举出反例,或者是我们没有找到反例,那么我们不妨试着按照第六种方法写一个程序然后提交,最后发现它应当是对的,所以第六种方法为本题正确的贪心法则.</p>
<p>对于代码的实现方法,我们只需输入后对每一头牛按开始时间早优先,如果相同则结束时间晚优先进行排列,然后选上第一头牛,对于开始时间符合要求的牛,选上结束时间最晚的牛,以此类推直到覆盖完整个区间.
然后再注意几个细节即可.完整代码如下:
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">25005</span>;</div><div class="line"><span class="keyword">int</span> ans=<span class="number">1</span>,N,T;</div><div class="line">pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; p[MAXN];<span class="comment">//创建一个pair数组来储存每一头牛的开始和结束时间</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; a,pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; b)</span><span class="comment">//用于规定排序方式</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">if</span>(a.first==b.first) <span class="keyword">return</span> a.second&gt;b.second;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> a.first&lt;b.first;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> temp=<span class="number">0</span>,ed=p[<span class="number">0</span>].second,st=p[<span class="number">0</span>].second;<span class="comment">//temp:目前在判断第几头牛,ed:记录符合条件的牛的最晚结束时间;st:记录上一头牛的结束时间</span></div><div class="line">     <span class="keyword">while</span>(<span class="number">1</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">while</span>(temp+<span class="number">1</span>&lt;N&amp;&amp;p[temp+<span class="number">1</span>].first&lt;=st+<span class="number">1</span>)<span class="comment">//判断牛是不是符合条件</span></div><div class="line">        &#123;</div><div class="line">            ++temp;</div><div class="line">            <span class="keyword">if</span>(p[temp].second&gt;ed) ed=p[temp].second;<span class="comment">//记下最晚结束时间</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(st!=ed)<span class="comment">//如果st不等于ed,说明有符合条件的牛,且此时所记录的ed值即为结束时间最晚的符合条件的牛的结束时间</span></div><div class="line">        &#123;</div><div class="line">            ++ans;</div><div class="line">            st=ed;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span><span class="comment">//如果相同,说明没有符合条件的牛,此时要判断是搜索完所有的牛了,还是有区间没有被覆盖到</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(temp==N<span class="number">-1</span>)<span class="comment">//搜索完所有的牛了</span></div><div class="line">            &#123;</div><div class="line">                    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</div><div class="line">                    <span class="keyword">return</span> ;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span><span class="comment">//有区间没有被覆盖到</span></div><div class="line">            &#123;</div><div class="line">                <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</div><div class="line">                <span class="keyword">return</span> ;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;N,&amp;T);</div><div class="line">    <span class="keyword">bool</span> x=<span class="number">0</span>,y=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;++i)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;p[i].first,&amp;p[i].second);</div><div class="line">        <span class="keyword">if</span>(p[i].first==<span class="number">1</span>)  x=<span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span>(p[i].second==T) y=<span class="number">1</span>;</div><div class="line">    &#125;<span class="comment">//如果没有牛的开始时间是1,没有牛的结束时间是0则代表无法覆盖整个区间,直接输出-1</span></div><div class="line">    <span class="keyword">if</span>(!x||!y)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    sort(p,p+N,cmp);</div><div class="line">    solve();</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1>C - Radar Installation</h1>
<p>Assume the coasting is an infinite straight line. Land is in one side of coasting, sea in the other. Each small island is a point locating in the sea side. And any radar installation, locating on the coasting, can only cover d distance, so an island in the sea can be covered by a radius installation, if the distance between them is at most d.</p>
<p>We use Cartesian coordinate system, defining the coasting is the x-axis. The sea side is above x-axis, and the land side below. Given the position of each island in the sea, and given the distance of the coverage of the radar installation, your task is to write a program to find the minimal number of radar installations to cover all the islands. Note that the position of an island is represented by its x-y coordinates.
Figure A Sample Input of Radar Installations
<img src="/posts/effa1578/2.jpg" alt="2.jpg" title="">
<strong>Input</strong>
The input consists of several test cases. The first line of each case contains two integers n (1&lt;=n&lt;=1000) and d, where n is the number of islands in the sea and d is the distance of coverage of the radar installation. This is followed by n lines each containing two integers representing the coordinate of the position of each island. Then a blank line follows to separate the cases.</p>
<p>The input is terminated by a line containing pair of zeros</p>
<p><strong>Output</strong>
For each test case output one line consisting of the test case number followed by the minimal number of radar installations needed. &quot;-1&quot; installation means no solution for that case.</p>
<p><strong>Sample Input</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">3 2</div><div class="line">1 2</div><div class="line">-3 1</div><div class="line">2 1</div><div class="line">1 2</div><div class="line">0 2</div><div class="line"></div><div class="line">0 0</div></pre></td></tr></table></figure></p>
<p><strong>Sample Output</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Case 1: 2</div><div class="line">Case 2: 1</div></pre></td></tr></table></figure></p>
<h2>完整代码&amp;&amp;解析</h2>
<p>题目大意:海岸边有N个小岛,现要在海岸线上安装数个雷达,使得每个小岛都能被雷达的扫描范围覆盖.以海岸线为x轴,海岸线上某一点为原点建系,x轴上方为海面,小岛只会出现在海面上.输入小岛个数N和雷达的扫描半径r,以及每个小岛的坐标,求能覆盖所有小岛的最少雷达数.如果有小岛无法被覆盖,则雷达个数为-1.</p>
<p>解析:</p>
<p>首先这题有几个要注意的地方:
1)雷达的半径可能为0
2)无法覆盖所有的小岛时,输出&quot;Case i: -1&quot;而不是&quot;-1&quot;.</p>
<p>其实很容易想到,只需要每个雷达能覆盖到尽可能多的小岛,并且尽量不重复覆盖小岛,即可达到雷达的最小值.由于海岸线能无限延伸,所以当且仅当小岛的纵坐标大于扫描半径时雷达无论如何也无法扫描到小岛.
那么如何实现这个贪心算法呢?由于输入的是小岛的坐标,所以我们首先想到的应该是处理小岛的坐标数据,而不是去找雷达的位置.而小岛的坐标和雷达建立起关系的唯有雷达的扫描半径,而且雷达能扫描到小岛也说明了雷达距离小岛小于等于半径.</p>
<p>所以我们不妨让小岛去&quot;扫描&quot;雷达,以每个小岛为圆心,雷达扫描半径r为半径画圆,其图像被x轴所截得的弦即为能扫描到该小岛的所有雷达的位置.
将这些位置找出来后,我们就相当于将小岛映射到了x轴上,小岛成为了x轴上的一个线段,雷达则是x轴上的一个点,雷达要想扫描到小岛,那么雷达应该在对应的线段上.</p>
<p>接下来的步骤就简单了,首先我们将所有小岛线段按其左端点升序排序,这样做的目的是让其正确的排列在x轴上.
然后我们想象一个雷达从x轴的负无限方向缓缓靠近,然后它运动到了第一个小岛线段的右端点--能扫描到第一个小岛的极限位置,停下,接着看下一个小岛:</p>
<ol>
<li>如果它的左端点在刚才放置雷达的位置的左边,说明这两个小岛可以被同一颗雷达扫描到,再看新小岛的右端点,如果右端点也在雷达位置的左边,那么雷达就需要往回移动至第二个小岛的右端点,这样才保证是极限情况且能同时扫描到两个小岛;</li>
<li>如果它的左端点在刚才放置雷达的位置的右边,说明要想扫描到这两个小岛至少需要两颗雷达了,那么雷达计数++,并且开始放置下一个雷达.
如此循环,直到遍历完所有的小岛.</li>
</ol>
<p>这种做法可以在线性时间内算出结果,使用cincout来输入输出也完全不会超时.
还有要注意的是雷达不一定在x轴整数坐标点上,所以储存小岛线段的左端点右端点时需要使用浮点数.
如何算弦?不用我说了吧...
完整代码如下:
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> N,r,ans,nk=<span class="number">1</span>;</div><div class="line">pair&lt;<span class="keyword">double</span>,<span class="keyword">double</span>&gt; lands[<span class="number">10086</span>];</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(pair&lt;<span class="keyword">double</span>,<span class="keyword">double</span>&gt; a,pair&lt;<span class="keyword">double</span>,<span class="keyword">double</span>&gt; b)</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">if</span>(a.first==b.first) <span class="keyword">return</span> a.second&lt;b.second;</div><div class="line">    <span class="keyword">return</span> a.first&lt;b.first;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">double</span> st=lands[<span class="number">0</span>].second;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;N;++i)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(lands[i].first&gt;st)<span class="comment">//需要新的雷达,新雷达默认刚开始放在下一个岛的右端点</span></div><div class="line">        &#123;</div><div class="line">            ans++;</div><div class="line">            st=lands[i].second;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(lands[i].second&lt;st)<span class="comment">//不需要新的雷达,而且雷达需要移动到下一个岛的右端点</span></div><div class="line">        &#123;</div><div class="line">            st=lands[i].second;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">double</span> x0,y0,k;</div><div class="line">    <span class="keyword">bool</span> flag;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;N&gt;&gt;r)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(N==<span class="number">0</span>&amp;&amp;r==<span class="number">0</span>) <span class="keyword">break</span>;</div><div class="line">        flag=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;++i)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">cin</span>&gt;&gt;x0&gt;&gt;y0;</div><div class="line">            <span class="keyword">if</span>(y0&gt;r) flag=<span class="number">1</span>;<span class="comment">//如果有小岛的纵坐标大于半径,那么这个小岛无论如何都不能被扫描到</span></div><div class="line">            k=<span class="built_in">sqrt</span>(r*r*<span class="number">1.0</span>-y0*y0*<span class="number">1.0</span>);<span class="comment">//算出左右端点并储存</span></div><div class="line">            lands[i].first=(<span class="keyword">double</span>)x0-k;</div><div class="line">            lands[i].second=(<span class="keyword">double</span>)x0+k;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(flag)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">"Case "</span>&lt;&lt;nk++&lt;&lt;<span class="string">": -1\n"</span>;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        sort(lands,lands+N,cmp);</div><div class="line">        ans=<span class="number">1</span>;</div><div class="line">        solve();</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"Case "</span>&lt;&lt;nk++&lt;&lt;<span class="string">": "</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1>D - Yogurt factory</h1>
<p>The cows have purchased a yogurt factory that makes world-famous Yucky Yogurt. Over the next N (1 &lt;= N &lt;= 10,000) weeks, the price of milk and labor will fluctuate weekly such that it will cost the company C_i (1 &lt;= C_i &lt;= 5,000) cents to produce one unit of yogurt in week i. Yucky's factory, being well-designed, can produce arbitrarily many units of yogurt each week.</p>
<p>Yucky Yogurt owns a warehouse that can store unused yogurt at a constant fee of S (1 &lt;= S &lt;= 100) cents per unit of yogurt per week. Fortuitously, yogurt does not spoil. Yucky Yogurt's warehouse is enormous, so it can hold arbitrarily many units of yogurt.</p>
<p>Yucky wants to find a way to make weekly deliveries of Y_i (0 &lt;= Y_i &lt;= 10,000) units of yogurt to its clientele (Y_i is the delivery quantity in week i). Help Yucky minimize its costs over the entire N-week period. Yogurt produced in week i, as well as any yogurt already in storage, can be used to meet Yucky's demand for that week.</p>
<p><strong>Input</strong>
Line 1: Two space-separated integers, N and S.</p>
<p>Lines 2..N+1: Line i+1 contains two space-separated integers: C_i and Y_i.</p>
<p><strong>Output</strong>
Line 1: Line 1 contains a single integer: the minimum total cost to satisfy the yogurt schedule. Note that the total might be too large for a 32-bit integer.</p>
<p><strong>Sample Input</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">4 5</div><div class="line">88 200</div><div class="line">89 400</div><div class="line">97 300</div><div class="line">91 500</div></pre></td></tr></table></figure></p>
<p><strong>Sample Output</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">126900</div></pre></td></tr></table></figure></p>
<p><strong>Hint</strong>
OUTPUT DETAILS:
In week 1, produce 200 units of yogurt and deliver all of it. In week 2, produce 700 units: deliver 400 units while storing 300 units. In week 3, deliver the 300 units that were stored. In week 4, produce and deliver 500 units.</p>
<h2>解析&amp;&amp;代码</h2>
<p>题目大意:奶牛们开了一个酸奶工厂(???),由于价格的波动,每周生产一单位的酸奶需要的成本价格ci不同(1&lt;=ci&lt;=5,000),假定工厂每周能生产无限数量的酸奶.而且每周需要交付且只能交付yi单位的酸奶(0&lt;=yi&lt;=10,000).而且酸奶工厂有一个无限容量的仓库,仓库中每一单位的酸奶要保存一星期需要的成本为S,给你接下来N周每周的酸奶生产价格和需要交付的酸奶数,要你给出所需的最少成本价.</p>
<p>我们再来对它做分析,然而这题的贪心法则并没有那么好找,但要是想到了也是很显然的:
第一周肯定只能当周生产提交.</p>
<p>然后假设所有酸奶都在第一周生产.
接下来判断第二周的所需酸奶是前一周生产并保存至今所花费的多,还是当周生产花费的多.
如果是前一周生产并保存至今花费的少,就当做是前一周生产的,并继续判断第三周.
如果是本周生产花费的少,就本周生产,并假设剩下的所有酸奶都是本周生产的.</p>
<p>以此类推,假设剩下的酸奶是第M周生产的,判断第N周所需的酸奶是从第M周生产并保存至第N周花费的少,还是在第N周生产花费的少
如果是第N周生产花费的少,就假设剩下的酸奶都是第N周生产的.
如果是生产并保存至第N周花费的少,就继续判断下一周的,直到判断结束.</p>
<p>还有要注意的一点是32位整数不够,需要用64位整数来储存
用代码实现如下:
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;utility&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> ull unsigned long long</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">10005</span>;</div><div class="line">ull N,S;</div><div class="line">ull ans=<span class="number">0</span>,temp=<span class="number">0</span>;</div><div class="line">pair&lt;ull,ull&gt; p[maxn];<span class="comment">//记录每周的生产价格和需求量</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> k=<span class="number">1</span>,n=<span class="number">0</span>;<span class="comment">//k:保存了几周,n:假设剩下的酸奶是第几周生产的,因为要调用第n周的生产价格</span></div><div class="line">    ans=p[<span class="number">0</span>].first*p[<span class="number">0</span>].second;<span class="comment">//第一周只能本周生产</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;N;++i)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(p[i].second*(p[n].first+S*k)&lt;p[i].first*p[i].second)<span class="comment">//如果是保存至今花费的少</span></div><div class="line">        &#123;</div><div class="line">            ans+=p[i].second*(p[n].first+S*k);</div><div class="line">            ++k;<span class="comment">//保存的周数加1</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span><span class="comment">//如果是本周生产花费的少</span></div><div class="line">        &#123;</div><div class="line">            ans+=p[i].first*p[i].second;</div><div class="line">            k=<span class="number">1</span>;<span class="comment">//重置保存的周数</span></div><div class="line">            n=i;<span class="comment">//并假设剩下的酸奶都是本周生产的</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;N,&amp;S);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;++i)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;p[i].first,&amp;p[i].second);</div><div class="line">    &#125;</div><div class="line">    solve();</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/b129499c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/b129499c/" itemprop="url">Windows系统下使用虚拟机运行Linux</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-11T22:50:27+08:00">
                2017-11-11
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-13T16:36:00+08:00">
                2017-11-13
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,634
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  6
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天队内赛思维江化了一晚上,很伤心,写篇博文冷静一下吧.
由于不明原因,我的电脑安装双系统时出了某些critical error,Ubuntu的安装系统无法识别到我的Windows系统,也无法选择覆盖安装,于是我只能退求其次使用虚拟机安装Ubuntu系统(不管是不是联想的问题,先容许我黑一波联想).
&lt;!--more--&gt;</p>
<h1>虚拟机制作软件的下载安装</h1>
<p>虚拟机是指通过软件模拟来实现一个计算机系统上运行的另一个隔离的计算机系统.既然是通过软件来模拟,第一步当然是要下载虚拟机软件啦.
首先上<a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="external">virtualbox的官网</a>下载符合自己计算机系统的虚拟机版本.
<img src="/posts/b129499c/下载页面.png" alt="下载页面.png" title="">
下载完成后根据提示安装即可.</p>
<h1>Linux光盘映像的下载</h1>
<p>制作虚拟机需要一个操作系统的光盘映像.你可以使用你之前找到的光盘映像,几乎所有的操作系统,如winxp,win7,deepin,Ubuntu等都可以.这里将提供一个ubuntu光盘映像的下载.
<a href="http://cn.ubuntu.com/download/" target="_blank" rel="external">下载地址</a>
现在的电脑一般都是64位的,所以下载64位的光盘映像即可.</p>
<h1>开始制作虚拟机</h1>
<p>打开之前下载的虚拟机制作软件,点击左上角的&quot;新建&quot;,然后输入你想要的虚拟机系统的名称,这个名称可以任意,但是一些特殊的名称有利于程序直接识别你要制作的虚拟机的类型和版本.如我在此输入了ubuntu,下方的&quot;类型&quot;和&quot;版本&quot;就自动发生了变化.当然你也可以手动调整你要装的虚拟机类型和版本.
<img src="/posts/b129499c/新建.png" alt="新建.png" title="">
**&lt;font size=5&gt;注意:&lt;/font&gt;**如果你的系统是64位的,而且你在虚拟机版本里找不到64位系统的选项,很可能是你的cpu的一些保护机制,使得你无法在该cpu上运行虚拟机.请查看本文最后的&quot;无法安装64位系统解决方法&quot;.</p>
<p>下一步是给虚拟机分配内存大小,这个由你自己和你的电脑配置来决定,最好不要低于它建议的内存大小,否则虚拟机会非常卡(本来就卡爆).
<img src="/posts/b129499c/内存.png" alt="内存.png" title=""></p>
<p>接下来是给虚拟机分配虚拟硬盘.虚拟硬盘是储存在计算机硬盘中的一个文件,虚拟机的所有文件都要放在这个文件里.如果你是第一次创建虚拟机,或者没有多余的虚拟硬盘,就选择&quot;现在创建虚拟硬盘&quot;.
<img src="/posts/b129499c/硬盘.png" alt="硬盘.png" title=""></p>
<p>再下一步是选择虚拟硬盘的文件类型,推荐使用VHD,也可以直接点击下一步.</p>
<p>接着是让你选择虚拟硬盘是动态分配大小还是固定大小,推荐使用固定大小的硬盘,这样系统响应比较快.动态大小的硬盘则比较灵活,特别是你的硬盘空间不太够时.如果你选择了固定大小,系统创建虚拟硬盘可能需要一定的时间(15分钟左右).</p>
<p>下一步是让你决定虚拟硬盘的名称,路径,大小,如果你上一步选择了动态分配,就是让你选择它的最大大小.大小推荐30G以上.自然是固态硬盘效果最佳,但是我不舍得给它用qwq
虚拟硬盘与虚拟机制作软件不在同一目录,甚至不在同一盘符都没太大影响.
<strong>千万不要放在C盘</strong></p>
<p>虚拟硬盘创建好后,你的VB管理器上会多了一个虚拟机,但我们还得经过调试才能使用它.点击工具栏中的&quot;设置&quot;.</p>
<p>首先我们来规定一下它的备份位置,默认是在c盘中,我们最好把它改到另一个地方.
<img src="/posts/b129499c/备份.png" alt="备份.png" title=""></p>
<p>然后点击右边的&quot;系统&quot;,这里可以更改你分配给它的内存大小和处理器功率和数量.必要的是点到&quot;处理器&quot;一栏,根据你电脑的性能设定给它的处理器数量和运行峰值.最好拖动到绿条的位置.最后再把下面的&quot;扩展特性&quot;钩一下.
<img src="/posts/b129499c/处理器.png" alt="处理器.png" title=""></p>
<p>&quot;显示&quot;一栏同样根据你电脑配置给它分配显存,一般没必要,除非你想用虚拟机玩游戏.</p>
<p>接着点击到&quot;存储&quot;一栏,并选择你之前下好的光盘映像.
<img src="/posts/b129499c/光盘映像.png" alt="光盘映像.png" title=""></p>
<p>剩下的一些设置可以以后慢慢探索,当你设置好光盘映像后,就可以点击&quot;OK&quot;了.</p>
<p>然后我们双击运行虚拟机,安装操作系统.</p>
<h1>Ubuntu操作系统的安装</h1>
<p>虚拟机运行后,等待Ubuntu系统加载好,然后会出现这个界面,点击安装Ubuntu(右边语言选项下拉有中文).
<img src="/posts/b129499c/安装Ubuntu.png" alt="安装Ubuntu.png" title=""></p>
<p>下一步出现的两个选项钩不钩没什么影响,你自己决定,然后点击下一步.(懒得截图了)</p>
<p>安装类型选择&quot;清除整个磁盘并安装Ubuntu&quot;,放心,清除整个磁盘是指清除它的虚拟硬盘,虚拟机并不会对主系统造成任何影响.
<img src="/posts/b129499c/安装类型.png" alt="安装类型.png" title=""></p>
<p>然后选择时区.输入beijing会有北京市选项.
<img src="/posts/b129499c/选择时区.png" alt="选择时区.png" title=""></p>
<p>然后是键盘布局,选择汉语
<img src="/posts/b129499c/键盘布局.png" alt="键盘布局.png" title=""></p>
<p>然后输入你的信息和密码,可以选择自动登录以免麻烦(谁会偷到你虚拟机的内容?)
<img src="/posts/b129499c/你是谁.png" alt="你是谁.png" title=""></p>
<p>接着等待它安装即可.
<img src="/posts/b129499c/安装中.png" alt="安装中.png" title=""></p>
<p>虚拟机的设置到此就结束了.当然我相信大家装虚拟机应该不是为了玩游戏吧(windows某理财软件够你玩一辈子),下一篇文章将介绍一下Ubuntu下的编程环境配置和输入法的配置.</p>
<h1>无法安装64位系统虚拟机的解决方法</h1>
<p>这个问题的主要原因是cpu的保护机制使得它默认无法用于虚拟机的运行,当然这个保护是可以关掉的,而且也很简单.</p>
<p>首先重启电脑,在进入windows登入界面前按F2进入bios(不同型号的主板进入bios的按键可能会有不同).
然后将图示项设置为&quot;Enable&quot;.(部分型号的主板这一项在security一栏里,还有我这是手机掉下床正好掉到角落摄像头里积了灰,并不是我不擦镜头).
<img src="/posts/b129499c/BIOS.jpg" alt="BIOS.jpg" title=""></p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/5fed7bce/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/5fed7bce/" itemprop="url">C++中的链表算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-11T09:45:59+08:00">
                2017-11-11
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-13T17:18:17+08:00">
                2017-11-13
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,527
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  6
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&quot;基于next主题的各种配置方法&quot;已不置顶,如需要请往后翻,或点击侧栏&quot;推荐阅读&quot;中的对应超链接
想开数学专题但不知道写什么好,暂时咕了先
ACO真尼玛好玩!!!
&lt;!--more--&gt;
通常情况下,我们存入一大堆数据用的是数组.但是数组虽然操作简便,但有些操作如果使用数组的话,可能会导致一些麻烦.
例如我们想在一堆乱序的整型数组中的某个数和某个数间添加一个元素,由于不知道这两个数的具体位置,只能从头遍历一遍数组找到这两个数,然后将后面的一个数以及其之后的所有元素往后退一位,再把要加入的元素存入空出来的位置.
由于是乱序的,所以也不能直接存到末尾然后用sort函数.
仅是想想都觉得时间复杂度很高,所以我们需要一种新的数据存储方法,来简化某些对一堆数据的操作.
首先我们可以想想,数组是将一堆数据放到一列连续的空间里.而且无论所存入的数据是什么,都不会影响对应的储存空间本身的顺序和属性.这就意味着我们无法清楚每一个元素到底在哪里(默认是乱序的),仅仅知道那一列储存空间是连续的.而且每一个元素实际上并无任何关系.所以我们要知晓里面的元素,只能通过遍历一个个找.
所以我们不妨想一个办法来使那一堆元素通过某种对应关系来联系起来.这样我们想要在其中添加或删除元素时,只需要改变其中几个元素之间的对应关系即可.
实际上,我们只需要知道每个元素的下一个元素是谁,就可以把整堆的元素串成一列,并且使每个元素有了确切的,唯一的位置关系.
如果在数组中,每一个元素在哪是不固定的,例如a数组中有一个5,那么5在a[0],a[1],a[2].....a[n]都是可能的.而如果我们指定了某个元素的下一个是5,另有某个元素的前一个是5,那么5在这两个元素之间这个事实就可以确定了.
对于上面那个例子,假设有5个数字1-5的排序是:35412,那么对于这五个数字,它们形成的链表模型如下图:
<img src="/posts/5fed7bce/1.png" alt="1.png" title="">
要找到某个元素,我们只需要从第一个元素开始,不断查找它的下一个元素即可.
还是上面的那个例子,假如我们要找5在第几位,只需先让它从数字1的下一个元素开始找起,不断寻找当前数字的下一个元素,即可找到数字5,代码如下:
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">int</span> next[<span class="number">6</span>]=&#123;<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">4</span>&#125;;<span class="comment">//next[i]代表了数字i的下一个元素是数字几 </span></div><div class="line">	<span class="keyword">int</span> t,ans=<span class="number">0</span>;</div><div class="line">	t=next[<span class="number">1</span>];</div><div class="line">	<span class="keyword">while</span>(t!=<span class="number">5</span>)<span class="comment">//不断迭代,直到找到5(即t==5)</span></div><div class="line">	&#123;</div><div class="line">		t=next[t];</div><div class="line">		ans++;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">cout</span>&lt;&lt;ans;<span class="comment">//ans代表了要找的数字排在链表的第几位 </span></div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行后输出:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2</div></pre></td></tr></table></figure></p>
<p>这个程序我让链表的末端&quot;2&quot;的下一个元素为链表的开始&quot;3&quot;,将它连成了一个环,以免查到末端之后无法继续查找.
但要注意必须在开始循环前将t设置为元素&quot;1&quot;的next,因为在连成一个环后就没有客观上的参照点,所以这样做就能使得查找器(t)进入的地方成为参照点.</p>
<p>事实上,这样的查找方法和直接使用数组然后遍历查找的时间复杂度一样,所以仅仅是查找的话,链表其实并不比数组好,而且链表中如果有相同的元素就会有一些bug存在.因此最好在每个元素不相同时才使用链表.</p>
<p>但是链表有着它自己的巨大优势,那就是要插入元素的时候.
前面已经讲过了,在数组中要插入元素,只能让想插入位置之后的每一个元素往后退一位,空出来一个位置之后再将其放入.
需要这么做的原因就是数组中的每一个元素都是相互独立的,这个在前面已经讲过.
在每一个元素都有着绝对位置的链表中,插入操作却异常简单,只需让想插入位置的前一个元素的下一个元素为要插入的元素,再让要插入元素的下一个元素为原本前一个元素的下一个元素,如下图所示
例如我想在5和4中间插入6
<img src="/posts/5fed7bce/2.png" alt="2.png" title="">
那么在程序中是如何实现的呢?根据上图来看,所改变的对应关系有:
1)5→4变成了5→6
2)新增了6→4
所以我们在程序中加入所更改的关系相应的改变即可.
代码如下:
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">	<span class="keyword">int</span> next[<span class="number">7</span>]=&#123;<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">4</span>&#125;;<span class="comment">//next[i]代表了数字i的下一个元素是数字几</span></div><div class="line">	<span class="keyword">int</span> t;</div><div class="line"></div><div class="line">	t=next[<span class="number">1</span>];</div><div class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"变更前的链表为: "</span>;</div><div class="line">	<span class="keyword">do</span></div><div class="line">    &#123;</div><div class="line">        t=next[t];</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;t&lt;&lt;<span class="string">" "</span>;</div><div class="line">	&#125;<span class="keyword">while</span>(t!=next[<span class="number">1</span>]);</div><div class="line">	</div><div class="line">	next[<span class="number">5</span>]=<span class="number">6</span>;				<span class="comment">//执行相应的变动</span></div><div class="line">	next[<span class="number">6</span>]=<span class="number">4</span>;</div><div class="line"></div><div class="line">	t=next[<span class="number">1</span>];</div><div class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"\n变更后的链表为: "</span>;</div><div class="line">	<span class="keyword">do</span></div><div class="line">    &#123;</div><div class="line">        t=next[t];</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;t&lt;&lt;<span class="string">" "</span>;</div><div class="line">    &#125;<span class="keyword">while</span>(t!=next[<span class="number">1</span>]);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行后会输出:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">变更前的链表为: 3 5 4 1 2</div><div class="line">变更后的链表为: 3 5 6 4 1 2</div></pre></td></tr></table></figure></p>
<p>以上就是使用数组来模拟链表的查找和插入操作的示例,还有另一种方法来实现链表,那就是用指针,讲完这两种方法后我会通过几道题目来说明.</p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/14900/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/14900/" itemprop="url">Java/C++的高精度算法实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-10T13:21:39+08:00">
                2017-11-10
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-11T10:10:00+08:00">
                2017-11-11
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c++</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/模板/" itemprop="url" rel="index">
                    <span itemprop="name">模板</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2,007
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  9
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>高精度算法经常在比赛中出现,同时也是程序员必须会的一种算法.本篇文章就将讲解Java和C语言中高精度算法的实现方法,并提供模板.
&lt;!--more--&gt;</p>
<h1>C++实现高精度算法</h1>
<p>首先模板如下,将以下代码完全放进你的代码中可实现将bign当成高精度变量名来使用
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//本代码来自http://blog.csdn.net/code4101/article/details/23020525</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;  </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;  </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;  </span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;  </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </div><div class="line">  </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span>;  <span class="comment">//最大位数</span></div><div class="line">  </div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">bign</span>&#123;</span>  </div><div class="line">    <span class="keyword">int</span> d[maxn], len;  </div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clean</span><span class="params">()</span> </span>&#123; <span class="keyword">while</span>(len &gt; <span class="number">1</span> &amp;&amp; !d[len<span class="number">-1</span>]) len--; &#125;  <span class="comment">//去掉首位的0</span></div><div class="line">  </div><div class="line">    bign()          &#123; <span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="keyword">sizeof</span>(d)); len = <span class="number">1</span>; &#125;  <span class="comment">//初始化</span></div><div class="line">    bign(<span class="keyword">int</span> num)   &#123; *<span class="keyword">this</span> = num; &#125;   <span class="comment">//实现int转bign</span></div><div class="line">    bign(<span class="keyword">char</span>* num) &#123; *<span class="keyword">this</span> = num; &#125;  <span class="comment">//实现字符串转bign</span></div><div class="line">    bign <span class="keyword">operator</span> = (<span class="keyword">const</span> <span class="keyword">char</span>* num)&#123;  <span class="comment">//给bign变量赋值</span></div><div class="line">        <span class="built_in">memset</span>(d, <span class="number">0</span>, <span class="keyword">sizeof</span>(d)); len = <span class="built_in">strlen</span>(num);  </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) d[i] = num[len<span class="number">-1</span>-i] - <span class="string">'0'</span>;  </div><div class="line">        clean();  </div><div class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;  </div><div class="line">    &#125;  </div><div class="line">    bign <span class="keyword">operator</span> = (<span class="keyword">int</span> num)&#123;  <span class="comment">//重载赋值运算</span></div><div class="line">        <span class="keyword">char</span> s[<span class="number">20</span>]; <span class="built_in">sprintf</span>(s, <span class="string">"%d"</span>, num);  </div><div class="line">        *<span class="keyword">this</span> = s;  </div><div class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    bign <span class="keyword">operator</span> + (<span class="keyword">const</span> bign&amp; b)&#123;  <span class="comment">//重载加法运算</span></div><div class="line">        bign c = *<span class="keyword">this</span>; <span class="keyword">int</span> i;  </div><div class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; b.len; i++)&#123;  </div><div class="line">            c.d[i] += b.d[i];  </div><div class="line">            <span class="keyword">if</span> (c.d[i] &gt; <span class="number">9</span>) c.d[i]%=<span class="number">10</span>, c.d[i+<span class="number">1</span>]++;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">while</span> (c.d[i] &gt; <span class="number">9</span>) c.d[i++]%=<span class="number">10</span>, c.d[i]++;  </div><div class="line">        c.len = max(len, b.len);  </div><div class="line">        <span class="keyword">if</span> (c.d[i] &amp;&amp; c.len &lt;= i) c.len = i+<span class="number">1</span>;  </div><div class="line">        <span class="keyword">return</span> c;  </div><div class="line">    &#125;  </div><div class="line">    bign <span class="keyword">operator</span> - (<span class="keyword">const</span> bign&amp; b)&#123;  <span class="comment">//重载减法运算</span></div><div class="line">        bign c = *<span class="keyword">this</span>; <span class="keyword">int</span> i;  </div><div class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; b.len; i++)&#123;  </div><div class="line">            c.d[i] -= b.d[i];  </div><div class="line">            <span class="keyword">if</span> (c.d[i] &lt; <span class="number">0</span>) c.d[i]+=<span class="number">10</span>, c.d[i+<span class="number">1</span>]--;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">while</span> (c.d[i] &lt; <span class="number">0</span>) c.d[i++]+=<span class="number">10</span>, c.d[i]--;  </div><div class="line">        c.clean();  </div><div class="line">        <span class="keyword">return</span> c;  </div><div class="line">    &#125;  </div><div class="line">    bign <span class="keyword">operator</span> * (<span class="keyword">const</span> bign&amp; b)<span class="keyword">const</span>&#123;  <span class="comment">//重载乘法运算</span></div><div class="line">        <span class="keyword">int</span> i, j; bign c; c.len = len + b.len;   </div><div class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; b.len; j++) <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len; i++)   </div><div class="line">            c.d[i+j] += d[i] * b.d[j];  </div><div class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; c.len<span class="number">-1</span>; i++)  </div><div class="line">            c.d[i+<span class="number">1</span>] += c.d[i]/<span class="number">10</span>, c.d[i] %= <span class="number">10</span>;  </div><div class="line">        c.clean();  </div><div class="line">        <span class="keyword">return</span> c;  </div><div class="line">    &#125;  </div><div class="line">    bign <span class="keyword">operator</span> / (<span class="keyword">const</span> bign&amp; b)&#123;  <span class="comment">//重载除法运算</span></div><div class="line">        <span class="keyword">int</span> i, j;  </div><div class="line">        bign c = *<span class="keyword">this</span>, a = <span class="number">0</span>;  </div><div class="line">        <span class="keyword">for</span> (i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)  </div><div class="line">        &#123;  </div><div class="line">            a = a*<span class="number">10</span> + d[i];  </div><div class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) <span class="keyword">if</span> (a &lt; b*(j+<span class="number">1</span>)) <span class="keyword">break</span>;  </div><div class="line">            c.d[i] = j;  </div><div class="line">            a = a - b*j;  </div><div class="line">        &#125;  </div><div class="line">        c.clean();  </div><div class="line">        <span class="keyword">return</span> c;  </div><div class="line">    &#125;  </div><div class="line">    bign <span class="keyword">operator</span> % (<span class="keyword">const</span> bign&amp; b)&#123;  <span class="comment">//重载取模运算</span></div><div class="line">        <span class="keyword">int</span> i, j;  </div><div class="line">        bign a = <span class="number">0</span>;  </div><div class="line">        <span class="keyword">for</span> (i = len - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)  </div><div class="line">        &#123;  </div><div class="line">            a = a*<span class="number">10</span> + d[i];  </div><div class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++) <span class="keyword">if</span> (a &lt; b*(j+<span class="number">1</span>)) <span class="keyword">break</span>;  </div><div class="line">            a = a - b*j;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> a;  </div><div class="line">    &#125;  </div><div class="line">    bign <span class="keyword">operator</span> += (<span class="keyword">const</span> bign&amp; b)&#123;  <span class="comment">//重载+=运算</span></div><div class="line">        *<span class="keyword">this</span> = *<span class="keyword">this</span> + b;  </div><div class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;  <span class="comment">//以下皆为重载比较符</span></div><div class="line">        <span class="keyword">if</span>(len != b.len) <span class="keyword">return</span> len &lt; b.len;  </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = len<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)  </div><div class="line">            <span class="keyword">if</span>(d[i] != b.d[i]) <span class="keyword">return</span> d[i] &lt; b.d[i];  </div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </div><div class="line">    &#125;  </div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &gt;(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> b &lt; *<span class="keyword">this</span>;&#125;  </div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&lt;=(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> !(b &lt; *<span class="keyword">this</span>);&#125;  </div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>&gt;=(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> !(*<span class="keyword">this</span> &lt; b);&#125;  </div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>!=(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> b &lt; *<span class="keyword">this</span> || *<span class="keyword">this</span> &lt; b;&#125;  </div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span>==(<span class="keyword">const</span> bign&amp; b) <span class="keyword">const</span>&#123;<span class="keyword">return</span> !(b &lt; *<span class="keyword">this</span>) &amp;&amp; !(b &gt; *<span class="keyword">this</span>);&#125;  </div><div class="line">  </div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">str</span><span class="params">()</span> <span class="keyword">const</span></span>&#123;  <span class="comment">//返回一个字符串</span></div><div class="line">        <span class="keyword">char</span> s[maxn]=&#123;&#125;;  </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) s[len<span class="number">-1</span>-i] = d[i]+<span class="string">'0'</span>;  </div><div class="line">        <span class="keyword">return</span> s;  </div><div class="line">    &#125;  </div><div class="line">&#125;;  </div><div class="line">  </div><div class="line">istream&amp; <span class="keyword">operator</span> &gt;&gt; (istream&amp; in, bign&amp; x)  <span class="comment">//重载右移符,以实现cin输入bign变量</span></div><div class="line">&#123;  </div><div class="line">    <span class="built_in">string</span> s;  </div><div class="line">    in &gt;&gt; s;  </div><div class="line">    x = s.c_str();  </div><div class="line">    <span class="keyword">return</span> in;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line">ostream&amp; <span class="keyword">operator</span> &lt;&lt; (ostream&amp; out, <span class="keyword">const</span> bign&amp; x)  <span class="comment">//重载左移符,以实现cout输出bign变量</span></div><div class="line">&#123;  </div><div class="line">    out &lt;&lt; x.str();  </div><div class="line">    <span class="keyword">return</span> out;  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>牛批的一批,我相信我以后也能写出这样的程序的<img src="/posts/14900/突然流泪.jpg" alt="突然流泪.jpg" title=""></p>
<p>接下来是使用一种比较浅显的方法来实现c++中的高精度算法,是使用函数来进行大数运算,比赛时可以使用.
在写程序前我们先明确目的:</p>
<ol>
<li>能输入很多位的数字</li>
<li>能对大数进行各种运算</li>
</ol>
<p>第一个目的简单,只需要输入字符串就行了
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">string</span> a,b;</div><div class="line"><span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</div></pre></td></tr></table></figure></p>
<p>主要就是第二个问题,如何进行大数的运算.其实我们只需把每一位单独提取出来,并利用相应的运算规则手动定义它的运算就行了.比如加法,想想你笔算做加法时是如何做的?按你的方法让计算机做就行了.
完整代码和解析如下:
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1000</span>;</div><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">bignplus</span><span class="params">(<span class="built_in">string</span> a,<span class="built_in">string</span> b)</span><span class="comment">//实现高精度加法运算</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> lena=a.length(),lenb=b.length(),i;<span class="comment">//首先提取出两个数的长度</span></div><div class="line">    <span class="keyword">int</span> x[maxn]=&#123;&#125;,y[maxn]=&#123;&#125;;</div><div class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;lena;++i)<span class="comment">//将两个数的每一位分别倒序放进一个数组,倒序的目的是使得最低位先被运算,且增减位数方便</span></div><div class="line">    &#123;</div><div class="line">        x[i]=a[lena<span class="number">-1</span>-i]-<span class="string">'0'</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;lenb;++i)</div><div class="line">    &#123;</div><div class="line">        y[i]=b[lenb<span class="number">-1</span>-i]-<span class="string">'0'</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> len=max(lena,lenb);<span class="comment">//保证每一位都能得到运算,取位数最大的一个</span></div><div class="line">    <span class="built_in">string</span> c=<span class="string">""</span>;</div><div class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len;++i)<span class="comment">//根据加法的法则,每一位分别相加</span></div><div class="line">    &#123;</div><div class="line">        x[i]+=y[i];</div><div class="line">        <span class="keyword">if</span>(x[i]&gt;=<span class="number">10</span>) x[i]-=<span class="number">10</span>,x[i+<span class="number">1</span>]++;<span class="comment">//满10进1</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">while</span>(x[i]&gt;=<span class="number">10</span>) x[i++]-=<span class="number">10</span>,x[i]++;<span class="comment">//有时候运算完会出现某一位仍然大于10的情况,满10进1</span></div><div class="line">    <span class="keyword">if</span>(x[i]&amp;&amp;len&lt;=i) len=i+<span class="number">1</span>;<span class="comment">//最高位满10增一位</span></div><div class="line"></div><div class="line">    <span class="built_in">string</span> s=<span class="string">""</span>;</div><div class="line">    <span class="keyword">while</span>(!x[len<span class="number">-1</span>]&amp;&amp;len&gt;<span class="number">0</span>) len--;<span class="comment">//去掉为0的最高位</span></div><div class="line"></div><div class="line">    <span class="keyword">if</span>(!len) len++;<span class="comment">//如果相加后结果为0,增一位免得什么也不输出</span></div><div class="line">    <span class="keyword">for</span>(i=len<span class="number">-1</span>;i&gt;=<span class="number">0</span>;--i)<span class="comment">//将得到的数组再倒序存入一个字符串</span></div><div class="line">    &#123;</div><div class="line">        s+=x[i]+<span class="string">'0'</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> s;<span class="comment">//s即为结果</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="built_in">string</span> a=<span class="string">""</span>,b=<span class="string">""</span>;</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;bignplus(a,b)&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输入:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">999999999999999 9999999999999999999999999</div></pre></td></tr></table></figure></p>
<p>输出:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">10000000000999999999999998</div></pre></td></tr></table></figure></p>
<p>减法,乘法,除法也类似,可能乘法和除法会稍微有些困难,但也并不是很难写出来.</p>
<h1>Java实现高精度运算</h1>
<p>在高精度这方面,Java真的是世界上最好的语言QAQ因为Java的库中自带实现高精度算法的类
接下来就使用Java.math包中的BigDecimal类来实现高精度算法
首先可以定义几个BigDecimal型的变量
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">BigDecimal x,y;</div></pre></td></tr></table></figure></p>
<p>接着我们要给它们赋值,虽然没试过能不能直接用scanner给它们赋值,但还是不推荐这么做.
BigDecimal类中有几个将其它类型的变量转化成BigDecimal变量的方法:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">BigDecimal(int)：将int表示形式转换为BigDecimal对象</div><div class="line">BigDecimal(String) ：将字符串表示形式转换为BigDecimal对象</div><div class="line">BigDecimal(double)：将double表示形式转换为BigDecimal对象</div></pre></td></tr></table></figure></p>
<p>例如:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">BigDecimal x;</div><div class="line">String a=<span class="string">"123456"</span>;</div><div class="line">x=BigDecimal(a);</div></pre></td></tr></table></figure></p>
<p>接下来就是BigDecimal变量之间运算的方法,常用的有:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">add(BigDecimal)：BigDecimal对象中的值相加，返回BigDecimal对象</div><div class="line">subtract(BigDecimal)：BigDecimal对象中的值相减，返回BigDecimal对象</div><div class="line">multiply(BigDecimal)：BigDecimal对象中的值相乘，返回BigDecimal对象</div><div class="line">divide(BigDecimal)：BigDecimal对象中的值相除，返回BigDecimal对象</div></pre></td></tr></table></figure></p>
<p>例如:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">x.add(y);</div></pre></td></tr></table></figure></p>
<p>其中x,y都是BigDecimal型变量.
最后是一些BigDecimal转化成其它类型的方法:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">toString()：将BigDecimal对象中的值转换成字符串</div><div class="line">doubleValue()：将BigDecimal对象中的值转换成双精度数</div><div class="line">floatValue()：将BigDecimal对象中的值转换成单精度数</div><div class="line">longValue()：将BigDecimal对象中的值转换成长整数</div><div class="line">intValue()：将BigDecimal对象中的值转换成整数</div></pre></td></tr></table></figure></p>
<p>这样就完成了Java中高精度的实现...
样例代码如下:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.math.*;</div><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">bign</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		String a,b;</div><div class="line">		String[] nums;</div><div class="line">		Scanner sc=<span class="keyword">new</span> Scanner(System.in);</div><div class="line">			nums=sc.nextLine().split(<span class="string">" "</span>);</div><div class="line">			a=nums[<span class="number">0</span>];b=nums[<span class="number">1</span>];</div><div class="line">			BigDecimal x=<span class="keyword">new</span> BigDecimal(a);</div><div class="line">			BigDecimal y=<span class="keyword">new</span> BigDecimal(b);</div><div class="line">		System.out.println(x.add(y));</div><div class="line">		sc.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输入:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">999999999 999999999999999999999</div></pre></td></tr></table></figure></p>
<p>输出:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">1000000000000999999998</div></pre></td></tr></table></figure></p>
<p>特别的,我还查了一下BigDecimal变量之间如何比较,比较好用的一种方法是利用compareTo方法.
例如:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a.compareTo(b);</div></pre></td></tr></table></figure></p>
<p>如果返回-1,就是a&lt;b;如果返回0,就是a=b;如果返回1,就是a&gt;b.
样例代码如下:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.math.*;</div><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">bign</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		String a,b,s;</div><div class="line">		String[] nums;</div><div class="line">		Scanner sc=<span class="keyword">new</span> Scanner(System.in);</div><div class="line">			<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</div><div class="line">				s=sc.nextLine();</div><div class="line">				<span class="keyword">if</span>(s.isEmpty()) <span class="keyword">break</span>;</div><div class="line">				nums=s.split(<span class="string">" "</span>);</div><div class="line">				a=nums[<span class="number">0</span>];b=nums[<span class="number">1</span>];</div><div class="line">				BigDecimal x=<span class="keyword">new</span> BigDecimal(a);</div><div class="line">				BigDecimal y=<span class="keyword">new</span> BigDecimal(b);</div><div class="line">				<span class="keyword">switch</span> (x.compareTo(y)) &#123;</div><div class="line">				<span class="keyword">case</span> -<span class="number">1</span> :&#123;</div><div class="line">					System.out.println(x+<span class="string">"&lt;"</span>+y);</div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">case</span> <span class="number">0</span> :&#123;</div><div class="line">					System.out.println(x+<span class="string">"="</span>+y);</div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">case</span> <span class="number">1</span> :&#123;</div><div class="line">					System.out.println(x+<span class="string">"&gt;"</span>+y);</div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		sc.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输入:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1 2</div><div class="line">2 1</div><div class="line">1 1</div></pre></td></tr></table></figure></p>
<p>输出:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1&lt;2</div><div class="line">2&gt;1</div><div class="line">1=1</div></pre></td></tr></table></figure></p>
<p>以上就是两种语言中的高精度算法的实现(c++抄来的代码看了一晚上没看懂)</p>
<p>参考资料:
c++高精度:	http://blog.csdn.net/code4101/article/details/23020525
Java高精度:	http://blog.csdn.net/qq_20785431/article/details/52281841
Java高精度比较:	http://blog.csdn.net/liulihui1988/article/details/53114942</p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/28884/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/28884/" itemprop="url">对拍程序的制作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-09T17:37:41+08:00">
                2017-11-09
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-11T10:10:00+08:00">
                2017-11-11
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DOS/" itemprop="url" rel="index">
                    <span itemprop="name">DOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,016
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近到一题实在de不出bug,于是去学习了如何制作对拍程序(后来那题发现是我选错语言了..)
顺便我的双系统还是没装好,爱慕安戈瑞.
&lt;!--more--&gt;</p>
<h1>准备工作</h1>
<p>在写对拍程序前需要准备好三份程序:</p>
<ol>
<li>你写的程序</li>
<li>从网上找的AC程序,或是你写的虽然很慢但是保证正确的程序</li>
<li>能随机生成出你写的题的输入数据的程序</li>
</ol>
<p>前两个我就不再多说,接下来讲讲第三个程序怎么写
首先我们先明确,随机生成数据的程序要有以下几个功能:</p>
<ol>
<li>保证生成的数据是随机的</li>
<li>保证生成的数据是合法的(不超过题目范围)</li>
</ol>
<p>两个条件都好解决,只需要使用stdlib头文件里的srand和rand函数,同时配合time函数即可
下面这个代码是以生成两个数的数据为例
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;//万用头文件,大部分判题系统不支持,要上交的代码最好别用</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> a,b;</div><div class="line">    srand(time(<span class="number">0</span>));<span class="comment">//time(0)能返回从1970.01.01至今过的秒数,用以控制伪随机函数</span></div><div class="line">    a=rand();</div><div class="line">    b=rand();</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">" "</span>&lt;&lt;b&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行这个程序就能随机生成两个数</p>
<p>如果我们要生成在某个范围内的两个数呢?比如我们需要生成100以内的数
只需在
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a=rand();</div><div class="line">b=rand();</div></pre></td></tr></table></figure></p>
<p>后分别添加%(100+1),使其变成
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a=rand()%(<span class="number">100</span>+<span class="number">1</span>);</div><div class="line">b=rand()%(<span class="number">100</span>+<span class="number">1</span>);</div></pre></td></tr></table></figure></p>
<p>就完成了其范围的限定.</p>
<p>然后我们再来看看如何让它实现对拍的功能.在以上三个程序的同一级目录中创建一个文本文档,在里面写上
<figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off	//使命令不输出,防止刷屏</div><div class="line"></div><div class="line">:loop	//程序循环之用  </div><div class="line">    rand.exe &gt; data.<span class="keyword">in</span>	//运行rand.exe,并将其输出储存到data.<span class="keyword">in</span>,若没有data.<span class="keyword">in</span>会自动创建</div><div class="line">    std.exe &lt; data.<span class="keyword">in</span> &gt; std.out	//运行std.exe,将data.<span class="keyword">in</span>的数据输入,并将其输出存入std.out,没有会自动创建</div><div class="line">    my.exe &lt; data.<span class="keyword">in</span> &gt; my.out	//同上</div><div class="line">    fc my.out std.out //比较两个文件</div><div class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">errorlevel</span> <span class="number">1</span> <span class="keyword">goto</span> loop	//如果没有异常就返回到"loop"那行继续运行</div><div class="line"><span class="built_in">pause</span>	//如果有异常就暂停,给你看数据</div><div class="line"><span class="keyword">goto</span> loop	//解除暂停后继续循环</div></pre></td></tr></table></figure></p>
<p>复制后记得把注释去掉,然后保存,将后缀名改为.bat
若你写的无误,双击运行.bat文件后应该是这样的
<img src="/posts/28884/对拍示例.png" alt="对拍示例.png" title="">
一个最基本的对拍程序就完成了.</p>
<p>当然我们还有个问题,那就是我们控制伪随机数用的是time(0),这也就意味着每秒才能产生一组不同的数据,效率有些低.还好cmd有自带的随机数命令(%random%),它能产生一个真正随机的数,所以我们只需要将它输入产生随机数据的程序就行了.
首先我们要把产生随机数据的代码改改,还是以随机生成两个数为例
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//本代码的核心部分来自:http://blog.csdn.net/wlx65003/article/details/51149196</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> random(a,b) ((a)+rand()%((b)-(a)+1))<span class="comment">//能产生范围为a到b的随机数</span></span></div><div class="line"></div><div class="line"><span class="built_in">stringstream</span> ss;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( <span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[] )</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">    <span class="keyword">int</span> seed=time(<span class="literal">NULL</span>);</div><div class="line">    <span class="keyword">if</span>(argc)<span class="comment">//如果有参数</span></div><div class="line">    &#123;</div><div class="line">        ss.clear();</div><div class="line">        ss&lt;&lt;argv[<span class="number">1</span>];</div><div class="line">        ss&gt;&gt;seed;<span class="comment">//把参数转换成整数赋值给seed</span></div><div class="line">    &#125;</div><div class="line">    srand(seed);</div><div class="line">    <span class="keyword">int</span> x,y;</div><div class="line">    x=random(<span class="number">0</span>,<span class="number">100000</span>);</div><div class="line">    y=random(<span class="number">0</span>,<span class="number">100000</span>);</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">" "</span>&lt;&lt;y;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>接下来改动.bat文件:
<figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off</div><div class="line"></div><div class="line">:loop  </div><div class="line">    rand.exe <span class="variable">%random%</span> &gt; data.<span class="keyword">in</span></div><div class="line">    std.exe &lt; data.<span class="keyword">in</span> &gt; std.out</div><div class="line">    my.exe &lt; data.<span class="keyword">in</span> &gt; my.out</div><div class="line">    fc my.out std.out</div><div class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">errorlevel</span> <span class="number">1</span> <span class="keyword">goto</span> loop</div><div class="line"><span class="built_in">pause</span></div><div class="line"><span class="keyword">goto</span> loop</div></pre></td></tr></table></figure></p>
<p>也就是在rand.exe后面加了个%random%让系统生成一个随机数并让其作为rand.exe程序的参数来调用它.
保存后再次双击.bat文件,应该可以感受到数据的生成明显快了很多.
以上就是对拍程序的写法啦.</p>
<p>参考资料:
http://blog.csdn.net/wlx65003/article/details/51149196</p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/2087/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/posts/2087/" itemprop="url">try{}catch{}finally{}语句</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-08T08:20:11+08:00">
                2017-11-08
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-11T10:10:00+08:00">
                2017-11-11
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,857
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本来是想放在Java的输入输出里一起讲的,但是突然想到能再水一篇博文..(滑稽)
接下来就来讲解一下Java中try-catch语句的运用吧
&lt;!--more--&gt;
语句的基本形式:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>&#123;</div><div class="line"><span class="comment">//代码</span></div><div class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line"><span class="comment">//异常处理</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这可以保证你的程序出现异常状态后可以继续运行下去.例如出现了除数为0的情况,如果没有这个语句,程序就会直接崩溃,而使用了这个语句,不仅程序可以运行下去,还可以知道程序的异常之处.
测试如下代码:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">text</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="keyword">int</span> a;</div><div class="line">			a=<span class="number">1</span>/<span class="number">0</span>;</div><div class="line">			System.out.println(a);</div><div class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line">			System.out.println(<span class="string">"报错"</span>);</div><div class="line">		&#125;</div><div class="line">		System.out.println(<span class="string">"I AM ALIVE!"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行该代码后,会输出
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">报错</div><div class="line">I AM ALIVE!</div></pre></td></tr></table></figure></p>
<p>可见程序在运行过程中虽然出现了&quot;1/0&quot;这种会使程序崩溃的情况,但是程序并没有崩溃,而是继续运行下去了.</p>
<p>那么如何知晓程序究竟为什么会崩溃呢?其实在刚才的代码里,&quot;catch(Exception e)&quot;这句的意思就是把错误信息储存在e里了.所以我们只需要输出e即可.
运行如下代码:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">text</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line"><span class="function">	</span>&#123;</div><div class="line">		</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="keyword">int</span> a;</div><div class="line">			a=<span class="number">1</span>/<span class="number">0</span>;</div><div class="line">			System.out.println(a);</div><div class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line">			System.out.println(<span class="string">"报错"</span>);</div><div class="line">			System.out.println(e);</div><div class="line">		&#125;</div><div class="line">		System.out.println(<span class="string">"I AM ALIVE!"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输出结果:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">报错</div><div class="line">java.lang.ArithmeticException: / by zero</div><div class="line">I AM ALIVE!</div></pre></td></tr></table></figure></p>
<p>说明报错原因是除数为0.
当然我们还能知晓更多信息,将刚才代码中的&quot;System.out.println(e);&quot;这一句改为&quot;e.printStackTrace();&quot;,再运行程序,输出如下:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">报错</div><div class="line">java.lang.ArithmeticException: / by zero</div><div class="line">	at text.main(text.java:9)</div><div class="line">I AM ALIVE!</div></pre></td></tr></table></figure></p>
<p>通过输出的第三行我们可以知晓是在代码的第九行出现了错误.
知晓错误信息后,如果我们不想改动try{}里的代码,而是想让它在出错后运行另一种方法该怎么办呢?只需要在catch(Exception e){}里加入你想要的方法就行了.</p>
<p>还有另一个语句&quot;finally{}&quot;,通常放在catch{}之后,作用为无论有没有报错,都最终运行finally{}里面的方法.也许有人会说为什么不把方法直接放在catch{}之后而要加个finally{},接下来将会说明.
首先我们来测试一下finally对于整个函数的作用
运行如下代码:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">text</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mtry</span><span class="params">()</span></span>&#123; <span class="comment">//这是一个自定义方法</span></div><div class="line">		String a,b;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			a=<span class="string">"try"</span>;</div><div class="line">			b=<span class="string">"Ttry"</span>;</div><div class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line">			a=<span class="string">"catch"</span>;</div><div class="line">			b=<span class="string">"Ccatch"</span>;</div><div class="line">		&#125;<span class="keyword">finally</span> &#123;</div><div class="line">			a=<span class="string">"finally"</span>;</div><div class="line">			b=<span class="string">"Ffinally"</span>;</div><div class="line">		&#125;</div><div class="line">		System.out.println(a);</div><div class="line">		System.out.println(b);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">		text te=<span class="keyword">new</span> text();<span class="comment">//这步是让text类调用自己</span></div><div class="line">		te.mtry();<span class="comment">//使用text类的mtry方法</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行这个代码后,会输出:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">finally</div><div class="line">Ffinally</div></pre></td></tr></table></figure></p>
<p>说明即使try{}语句内没有报错,程序还是运行了finally{},使ab重新赋值.</p>
<p>接下来我们让try{}强行报错:
在try{}的花括号里添加
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> x=<span class="number">1</span>/<span class="number">0</span>;</div></pre></td></tr></table></figure></p>
<p>无疑这样会让try报错,运行后会输出:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">finally</div><div class="line">Ffinally</div></pre></td></tr></table></figure></p>
<p>说明即使在try报错,运行了catch语句后,finally语句还是最终运行了.</p>
<p>虽然finally语句无论如何都会运行,但我们可以使用一些其它方法来控制它,以达到我们的目的.
在try的花括号里的最后加入
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">return</span> a;</div></pre></td></tr></table></figure></p>
<p>再对程序进行一些改动,变成如下这样
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">text</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">mtry</span><span class="params">()</span></span>&#123;</div><div class="line">		String a,b;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			a=<span class="string">"try"</span>;</div><div class="line">			b=<span class="string">"Ttry"</span>;</div><div class="line">			<span class="keyword">return</span> a;</div><div class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line">			a=<span class="string">"catch"</span>;</div><div class="line">			b=<span class="string">"Ccatch"</span>;</div><div class="line">		&#125;<span class="keyword">finally</span> &#123;</div><div class="line">			a=<span class="string">"finally"</span>;</div><div class="line">			b=<span class="string">"Ffinally"</span>;</div><div class="line">			System.out.println(<span class="string">"Finally!"</span>);</div><div class="line">		&#125;</div><div class="line">		System.out.println(a);</div><div class="line">		System.out.println(b);</div><div class="line">		<span class="keyword">return</span> a;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">		String a;</div><div class="line">		text te=<span class="keyword">new</span> text();</div><div class="line">		a=te.mtry();</div><div class="line">		System.out.println(<span class="string">"returned: "</span>+a);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>大家先猜猜运行后会输出什么,再往下看.</p>
<p>你猜的是不是
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">returned: try</div></pre></td></tr></table></figure></p>
<p>如果是,恭喜你,你错了.
真正运行后会输出:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Finally!</div><div class="line">returned: try</div></pre></td></tr></table></figure></p>
<p>按一般我们对函数的理解,在try语句中a,b赋值完毕,而且没有报错,应该会直接return a.但是finally是特殊的.它的运行时间为try{}catch{}被关闭时,即运行完成后,但它会在return执行前执行,执行完后才会return.</p>
<p>我们可以再对程序进行一些改动来理解.再finally的大括号中的最后再加入
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">return</span> a;</div></pre></td></tr></table></figure></p>
<p>如果你的代码没有写错,那么上面那个程序的这段:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">System.out.println(a);</div><div class="line">System.out.println(b);</div><div class="line"><span class="keyword">return</span> a;</div></pre></td></tr></table></figure></p>
<p>应该会报错:&quot;unreachable code&quot;,意思就是无论如何,这段代码永远不可能被执行.我们姑且先将其注释掉.
改动完成后,代码应当是这样的:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">text</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">mtry</span><span class="params">()</span></span>&#123;</div><div class="line">		String a;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			a=<span class="string">"try"</span>;</div><div class="line">			<span class="keyword">return</span> a;</div><div class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line">			a=<span class="string">"catch"</span>;</div><div class="line">		&#125;<span class="keyword">finally</span> &#123;</div><div class="line">			a=<span class="string">"finally"</span>;</div><div class="line">			System.out.println(<span class="string">"Finally!"</span>);</div><div class="line">			<span class="keyword">return</span> a;</div><div class="line">		&#125;</div><div class="line">		<span class="comment">/*System.out.println(a);</span></div><div class="line"><span class="comment">		return a;*/</span></div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">		String a;</div><div class="line">		text te=<span class="keyword">new</span> text();</div><div class="line">		a=te.mtry();</div><div class="line">		System.out.println(<span class="string">"returned: "</span>+a);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后我们再运行,你应该猜到会输出什么了,输出结果如下:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Finally!</div><div class="line">returned: finally</div></pre></td></tr></table></figure></p>
<p>而我们都清楚,try{}确实被运行且没报错,但是函数却return了finally,说明finally的return的执行还要在try的return执行之前.
要是你还不信try{}已经被运行了,可以在里面再加一个输出来鉴定.</p>
<p>若try报错,运行了catch语句,其实也和上面的道理类似,现在令try强行报错,并且在catch里加入return a,然后我们再试试
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">text</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">mtry</span><span class="params">()</span></span>&#123;</div><div class="line">		String a;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			a=<span class="string">"try"</span>;</div><div class="line">			<span class="keyword">int</span> x=<span class="number">1</span>/<span class="number">0</span>;</div><div class="line">			<span class="keyword">return</span> a;</div><div class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line">			a=<span class="string">"catch"</span>;</div><div class="line">			<span class="keyword">return</span> a;</div><div class="line">		&#125;<span class="keyword">finally</span> &#123;</div><div class="line">			a=<span class="string">"finally"</span>;</div><div class="line">			System.out.println(<span class="string">"Finally!"</span>);</div><div class="line">			<span class="keyword">return</span> a;</div><div class="line">		&#125;</div><div class="line">		<span class="comment">/*System.out.println(a);</span></div><div class="line"><span class="comment">		return a;*/</span></div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">		String a;</div><div class="line">		text te=<span class="keyword">new</span> text();</div><div class="line">		a=te.mtry();</div><div class="line">		System.out.println(<span class="string">"returned: "</span>+a);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>运行结果如下:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Finally!</div><div class="line">returned: finally</div></pre></td></tr></table></figure></p>
<p>综上所诉,我们可以通过将try{}catch{}finally{}写在自定义方法里并用return来更好的控制整个语句的运行.
然而还有一点疑惑的地方:既然在finally{}内将a赋值了,为何还return了在try语句里赋值的a?
我们不妨在finally里面输出a,同时将finally里的return删掉/注释掉.</p>
<p>运行如下代码:
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">text</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">mtry</span><span class="params">()</span></span>&#123;</div><div class="line">		String a;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			a=<span class="string">"try"</span>;</div><div class="line">			<span class="keyword">return</span> a;</div><div class="line">		&#125;<span class="keyword">catch</span>(Exception e)&#123;</div><div class="line">			a=<span class="string">"catch"</span>;</div><div class="line">			<span class="keyword">return</span> a;</div><div class="line">		&#125;<span class="keyword">finally</span> &#123;</div><div class="line">			a=<span class="string">"finally"</span>;</div><div class="line">			System.out.println(a);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">		String a;</div><div class="line">		text te=<span class="keyword">new</span> text();</div><div class="line">		a=te.mtry();</div><div class="line">		System.out.println(<span class="string">"returned: "</span>+a);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输出:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">finally</div><div class="line">returned: try</div></pre></td></tr></table></figure></p>
<p>为何两个a会不同?其实我也很疑惑这一点,经过百度,大概是这样的:
在try运行到return a这一步时,同时运行了finally,但此时try中要return什么其实已经确定了,程序已经自动将要return的值转存到另一个地方了,所以finally对a进行改动,并不影响整个函数的返回值,除非直接在finally中return另一个东西.</p>
<p>而刚才还遗留的两个问题也可以解决了:</p>
<ol>
<li>为何不将finally{}内的代码直接写在catch{}后面: 因为有时候我们需要单独操作某个变量,而不改动其它变量,就需要finally出场了.</li>
<li>为何刚才会出现&quot;unreachable code&quot;的报错字样: 因为finally无论如何都会运行,所以在finally里的return必定会运行,自然不可能运行到下一个语句.由此我们可以知道,尽量不要在finally中添加return,否则可能导致一些莫名其妙的错误.</li>
</ol>
<p>参考资料:
https://www.cnblogs.com/aigongsi/archive/2012/04/19/2457735.html
https://www.cnblogs.com/hyzxx/p/5151911.html</p>

          
        
      
    </div>
    
    
    

    

  <div>
  
  </div>
  
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Elatis" />
            
              <p class="site-author-name" itemprop="name">Elatis</p>
              <p class="site-description motion-element" itemprop="description">人生就是一个与困抗争的过程</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/elatisy" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:344750681@qq.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                推荐阅读
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://elatisy.top/posts/15569/" title="博客美化" target="_blank">博客美化</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://zoomdong.site/" title="超级信息安全dalao东lao的博客" target="_blank">超级信息安全dalao东lao的博客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://waidzsalome.cn/" title="薇薇的博客" target="_blank">薇薇的博客</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Elatis</span>

  
</div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访问数: <span id="busuanzi_value_site_pv"></span> 次
</span>
</div>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共33.7k字</span>
</div>

<!-- 
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>
 -->




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  





  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


  
  

  

  

  

</body>
</html>
