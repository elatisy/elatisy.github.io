<!DOCTYPE html>



  






<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="算法," />


<script>
    (function(){
        if(''){
            if (prompt('请输入文章密码') !== ''){
                alert('密码错误！');
                history.back();
            }
        }
    })();
</script>










<meta name="description" content="好像一周多都没有更新了..(ACO真是太好玩了)那这次就来讲一下动态规划的算法吧">
<meta name="keywords" content="算法">
<meta property="og:type" content="article">
<meta property="og:title" content="动态规划">
<meta property="og:url" content="http://elatisy.top/posts/a80d0031/index.html">
<meta property="og:site_name" content="Ela&#39;s notes">
<meta property="og:description" content="好像一周多都没有更新了..(ACO真是太好玩了)那这次就来讲一下动态规划的算法吧">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-11-30T03:09:28.545Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="动态规划">
<meta name="twitter:description" content="好像一周多都没有更新了..(ACO真是太好玩了)那这次就来讲一下动态规划的算法吧">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://elatisy.top/posts/a80d0031/"/>





  <title>动态规划 | Ela's notes</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/elatisy/elatisy.github.io"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ela's notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://elatisy.top/posts/a80d0031/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Elatis">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ela's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">动态规划</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-24T12:47:35+08:00">
                2017-11-24
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2017-11-30T11:09:28+08:00">
                2017-11-30
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c++</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/posts/a80d0031/" class="leancloud_visitors" data-flag-title="动态规划">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">热度&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
                 <span>℃</span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2,525
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  10
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>好像一周多都没有更新了..(ACO真是太好玩了)<br>那这次就来讲一下动态规划的算法吧<br><a id="more"></a><br>动态规划(Dynamic Programming)是求解决策过程最优化的数学方法,是运筹学的一部分.它使用的是一种分治思想,将一个大问题转换为一些小问题,再将每个小问题都转化为更多的小小问题,直至它们形成一个个不可再分单元,再对每个单元求最优解,再求它们中某些单元组成的单元的最优解,直到求得大问题的最优解.<br>动态规划主要分为四种:<br>1) 线性动规<br>2) 区域动规<br>3) 树状动规<br>4) 背包动规</p>
<p>但是对于每一种动规,它们的思想是一样的,所以只要掌握了这种思想,理解这几种类型的动规也不是什么难事.而且最短路问题实际上也是用了动规思想.</p>
<p>动态规划可以广泛地应用在各行各业中,所以不仅是ACMer,不仅是程序员,每个人都应该掌握这种思想.</p>
<p>那么接下来将讲解每一种动规以及它们的实例.<br>可能有些代码是使用Java写的,但是除了语法不同,其它部分和c++并没有什么区别.</p>
<h1 id="线性动规"><a href="#线性动规" class="headerlink" title="线性动规"></a>线性动规</h1><p>线性动规是最基础的一种动规,剩下三种动规实际上都是基于它形成的.<br>那么我们首先来看看递归实现的动规(递归比较好理解)<br>以下代码是基于cpp的,以求数列a[n]的最长升序子序列为例<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> a[n+<span class="number">1</span>];                                   <span class="comment">//输入的数存在数组的1~n中        </span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="keyword">int</span> k,<span class="keyword">bool</span> flag,<span class="keyword">int</span> pre)</span></span>&#123;              <span class="comment">//k为判断当前在处理前几个元素,flag为是否取当前元素的判断,pre为前一个元素的大小</span></div><div class="line">    <span class="keyword">if</span>(k == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;                      <span class="comment">//边界条件,当k在第一个元素之前时没有任何元素,子序列长度只能为0</span></div><div class="line">    <span class="keyword">else</span>&#123;                                     <span class="comment">//以flag为真,就说明我们想取这一个数作为子序列的一部分,当然还要判断能否取 </span></div><div class="line">        <span class="keyword">if</span>(flag &amp;&amp; pre&lt;a[k]) &#123;</div><div class="line">                                               <span class="comment">//对于每一种操作,不仅要执行对应的操作,返回值的时候还要选出前一层递归的最优解.</span></div><div class="line">                pre=a[k];                      <span class="comment">//更新子序列中前一个数的大小</span></div><div class="line">                <span class="keyword">return</span> max(dp(k<span class="number">-1</span>,<span class="literal">false</span>,pre),dp(k<span class="number">-1</span>,<span class="literal">true</span>,pre))+<span class="number">1</span>;</div><div class="line">            &#125;                    </div><div class="line">        <span class="keyword">else</span>&#123;                                  <span class="comment">//选择不取当前元素</span></div><div class="line">            <span class="keyword">return</span> max(dp(k<span class="number">-1</span>,<span class="literal">true</span>),dp(k<span class="number">-1</span>,<span class="literal">false</span>));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>当我们输入要求的数据,用<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">max(dp(n,<span class="literal">false</span>,<span class="number">-1</span>),dp(n,<span class="literal">true</span>,<span class="number">-1</span>));</div></pre></td></tr></table></figure></p>
<p>调用上面的函数,就可以求出最长升序子序列的长度.</p>
<p>但其实使用递归来实现的动规的时间复杂度是很高的,对于大量数据的动规,使用递归来实现是肯定会超时的.所以还有一种实现方法是使用循环,它可以把时间复杂度控制在n^2之内.<br>与使用递归不同,这种方法会将每个小问题的最优解记录下来,对于线性动规,就是把前k个元素的最优解记录下来.如果最优解是一个数据,我们可以使用一个数组来实现,通常叫做dp;其中dp[k]是前k个元素的最优解.<br>同时在执行操作的过程中,记录下当前算出的最优解,如果之后有更优的解,就更新一下最优解.<br>还是以求n个数的数列的最长升序子序列为例<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">int</span> a[n+<span class="number">1</span>];</div><div class="line"><span class="keyword">int</span> dp[n+<span class="number">1</span>] = &#123;<span class="number">0</span>&#125;;</div><div class="line"><span class="keyword">int</span> maxn = <span class="number">0</span>;               <span class="comment">//maxn用于储存最长子序列的长度</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;  <span class="comment">//遍历求得前1~n个元素的最优解</span></div><div class="line">    dp[i] = <span class="number">1</span>;              <span class="comment">//无论如何,子序列最少得有一个元素</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=i;++j)&#123;  <span class="comment">//求前i个元素的最优解</span></div><div class="line">        <span class="keyword">if</span>(a[i]&gt;a[j])       <span class="comment">//判断是否符合升序条件</span></div><div class="line">            dp[j] = max(dp[j],dp[j<span class="number">-1</span>]+<span class="number">1</span>);</div><div class="line">        <span class="keyword">else</span> dp[j]=dp[j<span class="number">-1</span>];</div><div class="line">        <span class="keyword">if</span>(dp[j]&gt;maxn) maxn = dp[j];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>循环完之后,我们只需要输出dp[n]即可获得最优解.<br>那么上面那个程序中,为什么我们只需要判断当前的元素a[i]和它之前的某一个元素a[j]的大小,就能使它满足条件了呢?<br>那是因为dp数组中的每一个元素存的都是符合条件的最优解,当它判断第二个元素时,已经将第一个和第二个元素比较好了,并且最优解已经储存进了dp[2],以此类推,第三个元素已经和第一,第二个元素比较好了,到第i个元素时,自然只需要让它比较它前面的元素就能使子序列满足升序的条件.<br>接下来将通过两个例子来具体说明.</p>
<h2 id="1-Longest-Ordered-Subsequence"><a href="#1-Longest-Ordered-Subsequence" class="headerlink" title="1.Longest Ordered Subsequence"></a>1.Longest Ordered Subsequence</h2><p>A numeric sequence of ai is ordered if a1 &lt; a2 &lt; … &lt; aN. Let the subsequence of the given numeric sequence ( a1, a2, …, aN) be any sequence ( ai1, ai2, …, aiK), where 1 &lt;= i1 &lt; i2 &lt; … &lt; iK &lt;= N. For example, sequence (1, 7, 3, 5, 9, 4, 8) has ordered subsequences, e. g., (1, 7), (3, 4, 8) and many others. All longest ordered subsequences are of length 4, e. g., (1, 3, 5, 8). </p>
<p>Your program, when given the numeric sequence, must find the length of its longest ordered subsequence.</p>
<p><strong>Input</strong><br>The first line of input file contains the length of sequence N. The second line contains the elements of sequence - N integers in the range from 0 to 10000 each, separated by spaces. 1 &lt;= N &lt;= 1000</p>
<p><strong>Output</strong><br>Output file must contain a single integer - the length of the longest ordered subsequence of the given sequence.<br><strong>Sample Input</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">7</div><div class="line">1 7 3 5 9 4 8</div></pre></td></tr></table></figure></p>
<p><strong>Sample Output</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">4</div></pre></td></tr></table></figure></p>
<h3 id="解析-amp-amp-代码"><a href="#解析-amp-amp-代码" class="headerlink" title="解析&amp;&amp;代码"></a>解析&amp;&amp;代码</h3><p>题目意思很明确,输入数列的长度和数列,求最长升序子序列的长度.所以这题可以直接套用上面的dp模板,代码如下,是使用Java写的,但其实和cpp差不多,如果有地方和cpp特别不一样的我会说明.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">dpa</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span>[] num=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>],dp;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span> N;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">smax</span><span class="params">()</span> </span>&#123;							<span class="comment">//线性动规求最优解</span></div><div class="line">		<span class="keyword">int</span> maxn=-<span class="number">1</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;++i) &#123;</div><div class="line">			dp[i]=<span class="number">1</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;i;++j) &#123;</div><div class="line">				<span class="keyword">if</span>(num[i]&gt;num[j]) &#123;</div><div class="line">					<span class="keyword">if</span>(dp[i]&lt;dp[j]+<span class="number">1</span>) &#123;</div><div class="line">						dp[i]=dp[j]+<span class="number">1</span>;</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span>(dp[i]&gt;maxn) maxn=dp[i];</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> maxn;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//Main a=new Main();</span></div><div class="line">		dpa a=<span class="keyword">new</span> dpa();						<span class="comment">//声明一个"dpa"类变量</span></div><div class="line">		Scanner sc=<span class="keyword">new</span> Scanner(System.in);</div><div class="line">		<span class="keyword">while</span>(sc.hasNext()) &#123;</div><div class="line">			N=sc.nextInt();						<span class="comment">//输入数列长度</span></div><div class="line">			dp=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>];					<span class="comment">//初始化数组</span></div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;++i) &#123;</div><div class="line">				num[i]=sc.nextInt();			<span class="comment">//输入数列</span></div><div class="line">			&#125;</div><div class="line">			System.out.println(a.smax());		<span class="comment">//调用smax函数</span></div><div class="line">		&#125;</div><div class="line">		sc.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="最少拦截系统"><a href="#最少拦截系统" class="headerlink" title="最少拦截系统"></a>最少拦截系统</h2><p>某国为了防御敌国的导弹袭击,发展出一种导弹拦截系统.但是这种导弹拦截系统有一个缺陷:虽然它的第一发炮弹能够到达任意的高度,但是以后每一发炮弹都不能超过前一发的高度.某天,雷达捕捉到敌国的导弹来袭.由于该系统还在试用阶段,所以只有一套系统,因此有可能不能拦截所有的导弹.<br>怎么办呢?多搞几套系统呗!你说说倒蛮容易,成本呢?成本是个大问题啊.所以俺就到这里来求救了,请帮助计算一下最少需要多少套拦截系统. </p>
<p><strong>Input</strong><br>输入若干组数据.每组数据包括:导弹总个数(正整数),导弹依此飞来的高度(雷达给出的高度数据是不大于30000的正整数,用空格分隔) </p>
<p><strong>Output</strong><br>对应每组数据输出拦截所有导弹最少要配备多少套这种导弹拦截系统. </p>
<p><strong>Sample Input</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">8 389 207 155 300 299 170 158 65</div></pre></td></tr></table></figure></p>
<p><strong>Sample Output</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">2</div></pre></td></tr></table></figure></p>
<h3 id="解析-amp-amp-代码-1"><a href="#解析-amp-amp-代码-1" class="headerlink" title="解析&amp;&amp;代码"></a>解析&amp;&amp;代码</h3><p>题目意思也很明确,就是找最大逆序子序列,找到一个后把子序列中的元素都从序列中排除继续找,直到将所有的数都排除完毕.<br>这题可以重复使用dp找逆序子序列,额外建立一个数组来标记这个数是否已经被找出,但这样不仅写起来困难,时间复杂度也很高,所以可以换一种思路,将时间复杂度仍然控制在n^2之内:<br>1)dp[i]中记录的是拦截第i个导弹时所需的最少系统数.<br>2)新增一个mini数组,来记录每一套系统的当前高度.<br>3)dp[i]同时还有一个意义,即为第i个导弹在第几套系统中,这是自然形成的.</p>
<p>还有一些细节,具体就看代码吧:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dpdlc</span> </span>&#123;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span> N;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span>[] num = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>],dp,mini;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">smax</span><span class="params">()</span> </span>&#123;</div><div class="line">		dp = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>];</div><div class="line">		mini = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1010</span>];		<span class="comment">//mini[k]表示第k个系统的高度</span></div><div class="line">		mini[<span class="number">1</span>] = num[<span class="number">1</span>];			<span class="comment">//第一个系统的高度肯定是第一个导弹的高度</span></div><div class="line">		dp[<span class="number">1</span>] = <span class="number">1</span>;					<span class="comment">//拦截第一个导弹时系统数肯定是1</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;++i) &#123;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=i;++j) &#123;</div><div class="line">				<span class="keyword">if</span>(i == j) &#123;		<span class="comment">//如果i == j,说明当前的系统都不能拦截导弹,新增一套系统</span></div><div class="line">					dp[i] = dp[i-<span class="number">1</span>]+<span class="number">1</span>;</div><div class="line">					mini[dp[i]] = num[i];<span class="comment">//新系统的高度为当前导弹高度</span></div><div class="line">				&#125;</div><div class="line">									<span class="comment">//如果有系统能拦截当前导弹</span></div><div class="line">				<span class="keyword">else</span> <span class="keyword">if</span>(num[i] &lt;= num[j] &amp;&amp; mini[dp[j]] &gt;= num[i]) &#123;</div><div class="line">					mini[dp[j]] = num[i];<span class="comment">//那个系统的高度更新为当前导弹高度</span></div><div class="line">					dp[i] = dp[i-<span class="number">1</span>];	 <span class="comment">//不需要新增系统,当前系统数等于前一个导弹的系统数</span></div><div class="line">					<span class="keyword">break</span>;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		Arrays.sort(dp,<span class="number">1</span>,N+<span class="number">1</span>);		<span class="comment">//排序找最大系统数即可</span></div><div class="line">		<span class="keyword">return</span> dp[N];</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		<span class="comment">//Main a = new Main();</span></div><div class="line">		Dpdlc a = <span class="keyword">new</span> Dpdlc();</div><div class="line">		Scanner sc = <span class="keyword">new</span> Scanner(System.in);</div><div class="line">		<span class="keyword">while</span>(sc.hasNext()) &#123;</div><div class="line">			N = sc.nextInt();</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;++i) &#123;</div><div class="line">				num[i] = sc.nextInt();</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">			System.out.println(a.smax());</div><div class="line">		&#125;</div><div class="line">		sc.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="区间动规"><a href="#区间动规" class="headerlink" title="区间动规"></a>区间动规</h1><p>区间动规又称合并类动规,是线性动规的扩展,但线性动规只是与当前元素出现时,之前选取的元素有关;而区间动规不仅与当前元素出现时之前选取的元素有关,还与之前选取元素的顺序有关.</p>

      
    </div>
    
    
    

    

  <div>
  
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>
  
  </div>
  
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/算法/" rel="tag"># 算法</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/posts/effa1578/" rel="next" title="贪心算法解析">
                <i class="fa fa-chevron-left"></i> 贪心算法解析
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/posts/4caeeee0/" rel="prev" title="[Java]JFrame窗体的各种配置方法">
                [Java]JFrame窗体的各种配置方法 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Elatis" />
            
              <p class="site-author-name" itemprop="name">Elatis</p>
              <p class="site-description motion-element" itemprop="description">人生就是一个与困抗争的过程</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/elatisy" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:344750681@qq.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                推荐阅读
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://elatisy.top/posts/15569/" title="博客美化" target="_blank">博客美化</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://zoomdong.site/" title="超级信息安全dalao东lao的博客" target="_blank">超级信息安全dalao东lao的博客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://waidzsalome.cn/" title="薇薇的博客" target="_blank">薇薇的博客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://m.blog.csdn.net/Karen_Yu_" title="慧慧的博客" target="_blank">慧慧的博客</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#线性动规"><span class="nav-number">1.</span> <span class="nav-text">线性动规</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Longest-Ordered-Subsequence"><span class="nav-number">1.1.</span> <span class="nav-text">1.Longest Ordered Subsequence</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#解析-amp-amp-代码"><span class="nav-number">1.1.1.</span> <span class="nav-text">解析&&代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#最少拦截系统"><span class="nav-number">1.2.</span> <span class="nav-text">最少拦截系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#解析-amp-amp-代码-1"><span class="nav-number">1.2.1.</span> <span class="nav-text">解析&&代码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#区间动规"><span class="nav-number">2.</span> <span class="nav-text">区间动规</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Elatis</span>

  
</div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访问数: <span id="busuanzi_value_site_pv"></span> 次
</span>
</div>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共34.7k字</span>
</div>

<!-- 
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>
 -->




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("", "");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


  
  

  

  

  

</body>
</html>
